(self.webpackChunkjifdas=self.webpackChunkjifdas||[]).push([[518],{518:(t,e,n)=>{"use strict";n.r(e),n.d(e,{AnalystsModule:()=>C});var i=n(1116),r=n(5425),o=n(4956),l=n(7349),c=n(1190),a=n(549),d=n(5366),s=n(3458),g=n(570);let Z=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-shell"]],decls:5,vars:0,consts:[[1,"d-flex","flex-column","flex-root"],[1,"page","d-flex","flex-row","flex-column-fluid"],["title","Analysts Dashboard"]],template:function(t,e){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d._UZ(2,"app-sidebar"),d._UZ(3,"app-header",2),d._UZ(4,"router-outlet"),d.qZA(),d.qZA())},directives:[s.k,g.G,c.lC],styles:[""]}),t})();var p=n(3559),u=n(4733),f=n(7320),h=n(4126),x=n(9151),m=n(2512);function T(t,e){if(1&t&&(d.TgZ(0,"span",46),d.TgZ(1,"span",47),d._uU(2),d.qZA(),d.TgZ(3,"span",48),d._uU(4,"Area"),d.qZA(),d.qZA()),2&t){const t=d.oxw().$implicit;d.xp6(2),d.hij("",t.Locality," ")}}function A(t,e){if(1&t&&(d.TgZ(0,"span",46),d.TgZ(1,"span",47),d._uU(2),d.qZA(),d.TgZ(3,"span",48),d._uU(4,"Ward"),d.qZA(),d.qZA()),2&t){const t=d.oxw().$implicit;d.xp6(2),d.hij("",t.Ward," ")}}function b(t,e){if(1&t&&(d.TgZ(0,"span",46),d.TgZ(1,"span",47),d._uU(2),d.qZA(),d.TgZ(3,"span",48),d._uU(4,"Village"),d.qZA(),d.qZA()),2&t){const t=d.oxw().$implicit;d.xp6(2),d.hij("",t.Village," ")}}function w(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"tr"),d.TgZ(1,"td",41),d.NdJ("click",function(){const e=d.CHM(t).$implicit;return d.oxw(2).openIncident(e)}),d._uU(2),d.qZA(),d.TgZ(3,"td",42),d.NdJ("click",function(){const e=d.CHM(t).$implicit;return d.oxw(2).openIncident(e)}),d.TgZ(4,"span",43),d._uU(5),d.qZA(),d.TgZ(6,"span"),d._uU(7),d.qZA(),d.qZA(),d.TgZ(8,"td",41),d.NdJ("click",function(){const e=d.CHM(t).$implicit;return d.oxw(2).openIncident(e)}),d.TgZ(9,"span",43),d._uU(10),d.qZA(),d.YNc(11,T,5,1,"span",44),d.YNc(12,A,5,1,"span",44),d.YNc(13,b,5,1,"span",44),d.TgZ(14,"span",45),d._uU(15),d.qZA(),d.qZA(),d.TgZ(16,"td",41),d.NdJ("click",function(){const e=d.CHM(t).$implicit;return d.oxw(2).openIncident(e)}),d._uU(17),d.qZA(),d.qZA()}if(2&t){const t=e.$implicit;d.xp6(2),d.Oqu(t.IncidentId),d.xp6(3),d.hij(" ",t.IncidentTypeName," "),d.xp6(2),d.Oqu(t.IncidentName),d.xp6(3),d.AsE("",t.LGA,", ",t.State,""),d.xp6(1),d.Q6J("ngIf","UNKNOWN LOCALITY"!=t.Locality),d.xp6(1),d.Q6J("ngIf","UNKNOWN WARD"!=t.Ward),d.xp6(1),d.Q6J("ngIf","UNKNOWN VILLAGE"!=t.Village),d.xp6(2),d.Oqu(t.Country),d.xp6(2),d.Oqu(t.IncidentDate)}}function q(t,e){if(1&t&&(d.TgZ(0,"tbody"),d.YNc(1,w,18,10,"tr",40),d.qZA()),2&t){const t=d.oxw();d.xp6(1),d.Q6J("ngForOf",t.currentData)}}function v(t,e){1&t&&(d.TgZ(0,"tbody"),d.TgZ(1,"tr"),d.TgZ(2,"td",49),d._uU(3,"No incidences available"),d.qZA(),d.qZA(),d.qZA())}function _(t,e){if(1&t&&(d.TgZ(0,"div",50),d.TgZ(1,"div",51),d.TgZ(2,"button",52),d._uU(3,"View Analysis"),d.qZA(),d.TgZ(4,"button",53),d._uU(5,"Add New Analysis"),d.qZA(),d.qZA(),d._UZ(6,"app-view-single-field-report",54),d.qZA()),2&t){const t=d.oxw();d.xp6(6),d.Q6J("incidentData",t.currentView)}}const y=[{path:"",component:Z,canActivate:[a.P],children:[{path:"incidents",component:(()=>{class t{constructor(t,e,n){this.serverRequest=t,this.modalService=e,this.events=n,this.globalDateRange={startDate:"",endDate:""},this.currentData=[],this.currentView={},this.forReview=!1,this.forDecline=!1,this.dtOptions={paging:!1,lengthChange:!1,pagingType:"full_numbers",pageLength:100,serverSide:!0,processing:!0,ajax:(t,e)=>{this.serverRequest.get("incidents/incident/view-incidents?length="+t.length+"&start="+t.start+"&search="+t.search.value+"&startDate="+this.globalDateRange.startDate+"&endDate="+this.globalDateRange.endDate).subscribe(t=>{this.currentData=[],this.currentData=t.contentData.data,e({recordsTotal:t.contentData.recordsTotal,recordsFiltered:t.contentData.recordsFiltered,data:[]})})}},this.dtTrigger=new p.xQ}ngOnInit(){this.dtTrigger.next(),setTimeout(()=>{this.rerender()},500)}ngAfterViewInit(){this.dtTrigger.next()}ngOnDestroy(){this.dtTrigger.unsubscribe()}rerender(){this.dtElement.dtInstance.then(t=>{t.destroy(),this.dtTrigger.next()})}openIncident(t){this.forReview=!1,this.forDecline=!1,this.currentView=t}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(f.I),d.Y36(h.FF),d.Y36(x.n))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-view-incidents"]],viewQuery:function(t,e){if(1&t&&d.Gf(u.G,5),2&t){let t;d.iGM(t=d.CRH())&&(e.dtElement=t.first)}},decls:60,vars:5,consts:[[1,"wrapper","d-flex","flex-column","flex-row-fluid"],[1,"card","rounded-0","bgi-no-repeat","bgi-position-x-end","bgi-size-cover",2,"background-color","#4b5320","background-size","auto 100%"],[1,"card-body","container","pt-10","pb-8"],[1,"d-flex","align-items-center"],[1,"fw-bold","me-3","text-white"],[1,"fw-bold","text-white","opacity-50"],[1,"d-flex","flex-column"],[1,"d-lg-flex","align-lg-items-center"],[1,"rounded","d-flex","flex-column","flex-lg-row","align-items-lg-center","bg-white","p-5","w-xxl-850px","h-lg-60px","me-lg-10","my-5"],[1,"row","flex-grow-1","mb-5","mb-lg-0"],[1,"col-lg-4","d-flex","align-items-center","mb-3","mb-lg-0"],[1,"svg-icon","svg-icon-1","svg-icon-gray-400","me-1"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","width","24px","height","24px","viewBox","0 0 24 24","version","1.1"],["stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["x","0","y","0","width","24","height","24"],["d","M14.2928932,16.7071068 C13.9023689,16.3165825 13.9023689,15.6834175 14.2928932,15.2928932 C14.6834175,14.9023689 15.3165825,14.9023689 15.7071068,15.2928932 L19.7071068,19.2928932 C20.0976311,19.6834175 20.0976311,20.3165825 19.7071068,20.7071068 C19.3165825,21.0976311 18.6834175,21.0976311 18.2928932,20.7071068 L14.2928932,16.7071068 Z","fill","#000000","fill-rule","nonzero","opacity","0.3"],["d","M11,16 C13.7614237,16 16,13.7614237 16,11 C16,8.23857625 13.7614237,6 11,6 C8.23857625,6 6,8.23857625 6,11 C6,13.7614237 8.23857625,16 11,16 Z M11,18 C7.13400675,18 4,14.8659932 4,11 C4,7.13400675 7.13400675,4 11,4 C14.8659932,4 18,7.13400675 18,11 C18,14.8659932 14.8659932,18 11,18 Z","fill","#000000","fill-rule","nonzero"],["type","text","name","search","value","","placeholder","Keyword",1,"form-control","form-control-flush","flex-grow-1"],[1,"col-lg-4","d-flex","align-items-center","mb-5","mb-lg-0"],[1,"bullet","bg-secondary","d-none","d-lg-block","h-30px","w-2px","me-5"],["x","5","y","5","width","5","height","5","rx","1","fill","#000000"],["x","14","y","5","width","5","height","5","rx","1","fill","#000000","opacity","0.3"],["x","5","y","14","width","5","height","5","rx","1","fill","#000000","opacity","0.3"],["x","14","y","14","width","5","height","5","rx","1","fill","#000000","opacity","0.3"],["data-control","select2","data-placeholder","Incident Type","data-hide-search","true",1,"form-select","border-0","flex-grow-1"],["value",""],["value","1","selected","selected"],[1,"col-lg-4","d-flex","align-items-center"],[1,"svg-icon","svg-icon-1","svg-icon-gray-400","me-3"],["d","M5,10.5 C5,6 8,3 12.5,3 C17,3 20,6.75 20,10.5 C20,12.8325623 17.8236613,16.03566 13.470984,20.1092932 C12.9154018,20.6292577 12.0585054,20.6508331 11.4774555,20.1594925 C7.15915182,16.5078313 5,13.2880005 5,10.5 Z M12.5,12 C13.8807119,12 15,10.8807119 15,9.5 C15,8.11928813 13.8807119,7 12.5,7 C11.1192881,7 10,8.11928813 10,9.5 C10,10.8807119 11.1192881,12 12.5,12 Z","fill","#000000","fill-rule","nonzero"],["type","text","name","search","value","","placeholder","Location",1,"form-control","form-control-flush","flex-grow-1"],[1,"min-w-150px","text-end"],["type","submit","id","kt_advanced_search_button_1",1,"btn","btn-dark"],[1,"row"],[1,"col-md-5","table-responsive"],["datatable","",1,"table","table-hover","align-middle","gs-0","gy-4",3,"dtOptions","dtTrigger"],[1,"fw-bolder","text-muted","bg-light"],[1,"min-w-200px"],[4,"ngIf"],["class","col-md-7 left-border",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"click"],[1,"min-w-200px",3,"click"],[1,"text-dark","fw-bolder","text-hover-primary","d-block","mb-1","fs-6"],["class","text-muted d-block fs-7",4,"ngIf"],[1,"text-muted","text-small","text-muted","d-block","fs-7"],[1,"text-muted","d-block","fs-7"],[1,"text-muted","fw-bold"],[1,"text-small"],["colspan","4"],[1,"col-md-7","left-border"],[1,"col-md-12","mt-10","mb-5"],["type","button",1,"btn","btn-info",2,"margin-left","15px","margin-right","30px"],["type","button",1,"btn","btn-success",2,"margin-left","30px"],[3,"incidentData"]],template:function(t,e){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"div",3),d.TgZ(4,"h1",4),d._uU(5,"Field Incidents"),d.qZA(),d.TgZ(6,"span",5),d._uU(7,"Analysis & Report Portal"),d.qZA(),d.qZA(),d.TgZ(8,"div",6),d.TgZ(9,"div",7),d.TgZ(10,"div",8),d.TgZ(11,"div",9),d.TgZ(12,"div",10),d.TgZ(13,"span",11),d.O4$(),d.TgZ(14,"svg",12),d.TgZ(15,"g",13),d._UZ(16,"rect",14),d._UZ(17,"path",15),d._UZ(18,"path",16),d.qZA(),d.qZA(),d.qZA(),d.kcU(),d._UZ(19,"input",17),d.qZA(),d.TgZ(20,"div",18),d._UZ(21,"div",19),d.TgZ(22,"span",11),d.O4$(),d.TgZ(23,"svg",12),d.TgZ(24,"g",13),d._UZ(25,"rect",20),d._UZ(26,"rect",21),d._UZ(27,"rect",22),d._UZ(28,"rect",23),d.qZA(),d.qZA(),d.qZA(),d.kcU(),d.TgZ(29,"select",24),d._UZ(30,"option",25),d.TgZ(31,"option",26),d._uU(32,"Incident Type"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(33,"div",27),d._UZ(34,"div",19),d.TgZ(35,"span",28),d.O4$(),d.TgZ(36,"svg",12),d.TgZ(37,"g",13),d._UZ(38,"rect",14),d._UZ(39,"path",29),d.qZA(),d.qZA(),d.qZA(),d.kcU(),d._UZ(40,"input",30),d.qZA(),d.qZA(),d.TgZ(41,"div",31),d.TgZ(42,"button",32),d._uU(43,"Search"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(44,"div",33),d.TgZ(45,"div",34),d.TgZ(46,"table",35),d.TgZ(47,"thead"),d.TgZ(48,"tr",36),d.TgZ(49,"th"),d._uU(50,"ID"),d.qZA(),d.TgZ(51,"th",37),d._uU(52,"Incident"),d.qZA(),d.TgZ(53,"th"),d._uU(54,"Location"),d.qZA(),d.TgZ(55,"th"),d._uU(56,"Date"),d.qZA(),d.qZA(),d.qZA(),d.YNc(57,q,2,1,"tbody",38),d.YNc(58,v,4,0,"tbody",38),d.qZA(),d.qZA(),d.YNc(59,_,7,1,"div",39),d.qZA()),2&t&&(d.xp6(46),d.Q6J("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),d.xp6(11),d.Q6J("ngIf",0!=(null==e.currentData?null:e.currentData.length)),d.xp6(1),d.Q6J("ngIf",0==(null==e.currentData?null:e.currentData.length)),d.xp6(1),d.Q6J("ngIf",""!=e.currentView.IncidentId))},directives:[u.G,i.O5,i.sg,m.M],styles:[".wrapper[_ngcontent-%COMP%]{width:95vw;padding-left:0}.modal-backdrop[_ngcontent-%COMP%]{background-color:#4b5320}.w-50[_ngcontent-%COMP%]{width:50%!important}.left-border[_ngcontent-%COMP%]{min-height:100vh;border-left:1px solid #4b5320;border-radius:25px 0}#edit-container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;min-height:100vh}"]}),t})()}]}];let U=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[c.Bz.forChild(y)],c.Bz]}),t})(),C=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[i.ez,U,r.m,l.T,o.DataManagersModule]]}),t})()}}]);