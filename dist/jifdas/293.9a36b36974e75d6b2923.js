(self.webpackChunkjifdas=self.webpackChunkjifdas||[]).push([[293],{2512:(t,e,i)=>{"use strict";i.d(e,{M:()=>l});var n=i(3219),a=i(5366),o=i(1116);function c(t,e){if(1&t&&(a.TgZ(0,"tr"),a.TgZ(1,"td",7),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.qZA()),2&t){const t=e.$implicit;a.xp6(2),a.Oqu(t.Field),a.xp6(2),a.Oqu(t.FieldValue)}}function r(t,e){1&t&&(a.TgZ(0,"tr"),a.TgZ(1,"td",21),a._UZ(2,"i",22),a.TgZ(3,"span",7),a._uU(4,"No metadata has been added for this incident"),a.qZA(),a.qZA(),a.qZA())}function s(t,e){if(1&t&&(a.TgZ(0,"div",23),a.TgZ(1,"div",24),a._UZ(2,"img",25),a.TgZ(3,"div",26),a.TgZ(4,"a",27),a._UZ(5,"i",28),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&t){const t=e.$implicit;a.xp6(2),a.MGl("src","data:image/png;base64,",t,"",a.LSH),a.xp6(2),a.MGl("href","file://data:image/png;base64,",t,"",a.LSH)}}let l=(()=>{class t{constructor(){this.incidentData={}}ngOnInit(){}initMap(){this.map=n.map("incident-poi").setView([0,0],13);let t={"Street Map":n.tileLayer("http://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}",{maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"]}),"Aerial View":n.tileLayer("http://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",{maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"]})},e=n.control.layers(t);this.marker=n.marker([0,0],{icon:n.icon({iconSize:[25,41],iconAnchor:[13,41],iconUrl:"assets/marker-icon.png",shadowUrl:"assets/marker-shadow.png"})}),t["Street Map"].addTo(this.map),e.addTo(this.map),this.marker.addTo(this.map)}invalidateSize(){setTimeout(()=>{this.map.invalidateSize()},500)}ngOnChanges(t){const e=t.incidentData;if(this.initMap(),void 0!==e.currentValue.IncidentId){let t=e.currentValue.IncidentPointOfInterest;t=t.replace("POINT(","").replace(")","").split(" "),this.invalidateSize(),this.map.setView(t),this.marker.setLatLng(t),this.marker.bindPopup(e.currentValue.IncidentTypeName)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-view-single-field-report"]],inputs:{incidentData:"incidentData"},features:[a.TTD],decls:64,vars:14,consts:[["id","kt_content_container",1,"container"],[1,"card"],[1,"card-body"],[1,"mb-5"],[1,"mb-1"],[1,"text-center","mb-5"],[1,"fs-2hx","text-dark"],[1,"text-muted"],[1,"fs-5","text-muted"],[1,"fw-bold"],[1,"row","mb-10"],["id","incident-poi",2,"height","20vh"],[1,"col-6"],[1,"fs-5","fw-bold"],[1,"table-responsive","mb-4"],[1,"table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-12"],["class","col-12 mb-5",4,"ngFor","ngForOf"],[1,"fs-5","mb-4"],["colspan","2",1,"fs-4","text-align-center"],[1,"fa","fa-exclamation-circle","text-warning"],[1,"col-12","mb-5"],[1,"overlay"],["alt","",1,"w-100","card-rounded",3,"src"],[1,"overlay-layer","bg-dark","card-rounded","bg-opacity-25"],["target","_blank",1,"btn","btn-link",3,"href"],[1,"bi","bi-eye-fill","fs-2x","text-white"]],template:function(t,e){1&t&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"div",3),a.TgZ(4,"div",4),a.TgZ(5,"div",5),a.TgZ(6,"h3",6),a.TgZ(7,"span",7),a._uU(8),a.qZA(),a._uU(9),a.qZA(),a.TgZ(10,"div",8),a.TgZ(11,"span",9),a._uU(12),a.qZA(),a._UZ(13,"br"),a.TgZ(14,"span"),a._uU(15),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(16,"div",10),a._UZ(17,"div",11),a.qZA(),a.TgZ(18,"div",10),a.TgZ(19,"div",12),a.TgZ(20,"div",13),a.TgZ(21,"div",14),a.TgZ(22,"table",15),a.TgZ(23,"tr"),a.TgZ(24,"td",7),a._uU(25,"Country"),a.qZA(),a.TgZ(26,"td"),a._uU(27),a.qZA(),a.qZA(),a.TgZ(28,"tr"),a.TgZ(29,"td",7),a._uU(30,"Region"),a.qZA(),a.TgZ(31,"td"),a._uU(32),a.qZA(),a.qZA(),a.TgZ(33,"tr"),a.TgZ(34,"td",7),a._uU(35,"State"),a.qZA(),a.TgZ(36,"td"),a._uU(37),a.qZA(),a.qZA(),a.TgZ(38,"tr"),a.TgZ(39,"td",7),a._uU(40,"LGA"),a.qZA(),a.TgZ(41,"td"),a._uU(42),a.qZA(),a.qZA(),a.TgZ(43,"tr"),a.TgZ(44,"td",7),a._uU(45,"Ward"),a.qZA(),a.TgZ(46,"td"),a._uU(47),a.qZA(),a.qZA(),a.TgZ(48,"tr"),a.TgZ(49,"td",7),a._uU(50,"Village"),a.qZA(),a.TgZ(51,"td"),a._uU(52),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(53,"div",12),a.TgZ(54,"div",13),a.TgZ(55,"div",14),a.TgZ(56,"table",15),a.YNc(57,c,5,2,"tr",16),a.YNc(58,r,5,0,"tr",17),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(59,"div",18),a.YNc(60,s,6,2,"div",19),a.qZA(),a.TgZ(61,"div",18),a.TgZ(62,"p",20),a._uU(63),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(8),a.hij("#",e.incidentData.IncidentId,":"),a.xp6(1),a.hij(" ",e.incidentData.IncidentTypeName,""),a.xp6(3),a.Oqu(e.incidentData.AccountName),a.xp6(3),a.hij("Reported on ",e.incidentData.DateReported,""),a.xp6(12),a.Oqu(e.incidentData.Country),a.xp6(5),a.Oqu(e.incidentData.Region),a.xp6(5),a.Oqu(e.incidentData.State),a.xp6(5),a.Oqu(e.incidentData.LGA),a.xp6(5),a.Oqu(e.incidentData.Ward),a.xp6(5),a.Oqu(e.incidentData.Village),a.xp6(5),a.Q6J("ngForOf",e.incidentData.metadata),a.xp6(1),a.Q6J("ngIf",0==e.incidentData.metadata.length),a.xp6(2),a.Q6J("ngForOf",e.incidentData.IncidentImages),a.xp6(3),a.Oqu(e.incidentData.IncidentName))},directives:[o.sg,o.O5],styles:[""]}),t})()},1293:(t,e,i)=>{"use strict";i.r(e),i.d(e,{DataManagersModule:()=>Ot});var n=i(1116),a=i(1462),o=i(5425),c=i(7349),r=i(7703),s=i(549),l=i(5366),d=i(3458),g=i(570);let u=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-shell"]],decls:5,vars:0,consts:[[1,"d-flex","flex-column","flex-root"],[1,"page","d-flex","flex-row","flex-column-fluid"],["title","Info Officers Dashboard"]],template:function(t,e){1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l._UZ(2,"app-sidebar"),l._UZ(3,"app-header",2),l._UZ(4,"router-outlet"),l.qZA(),l.qZA())},directives:[d.k,g.G,r.lC],styles:[""]}),t})();var Z=i(3559),p=i(4733),h=i(7320),f=i(3295),m=i(9151),T=i(2512),v=i(9609),q=i(8135),A=i(5943),x=i(8281),b=i(9130);function y(t,e){if(1&t&&(l.TgZ(0,"option",30),l._uU(1),l.qZA()),2&t){const t=e.$implicit;l.s9C("value",t.id),l.xp6(1),l.Oqu(t.text)}}function _(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td",34),l.NdJ("click",function(){const e=l.CHM(t).index;return l.oxw(2).removeMetadataField(e)}),l.TgZ(6,"span",35),l._UZ(7,"i",36),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=e.$implicit;l.xp6(2),l.Oqu(t.field),l.xp6(2),l.Oqu(t.value)}}function w(t,e){if(1&t&&(l.TgZ(0,"div",4),l.TgZ(1,"div",31),l.TgZ(2,"table",32),l.TgZ(3,"thead"),l.TgZ(4,"th"),l._uU(5,"Metadata"),l.qZA(),l.TgZ(6,"th"),l._uU(7,"Value"),l.qZA(),l.TgZ(8,"th"),l._uU(9,"Action"),l.qZA(),l.qZA(),l.TgZ(10,"tbody"),l.YNc(11,_,8,2,"tr",33),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&t){const t=l.oxw();l.xp6(11),l.Q6J("ngForOf",t.metadataFields)}}function D(t,e){if(1&t&&(l.TgZ(0,"option",30),l._uU(1),l.qZA()),2&t){const t=e.$implicit;l.s9C("value",t.key),l.xp6(1),l.Oqu(t.key)}}function U(t,e){if(1&t&&(l.TgZ(0,"option",30),l._uU(1),l.qZA()),2&t){const t=e.$implicit;l.s9C("value",t.FieldName),l.xp6(1),l.Oqu(t.FieldName)}}let C=(()=>{class t{constructor(t,e,i,n,a){this.serverRequest=t,this.modalService=e,this.toastService=i,this.storage=n,this.events=a,this.incidentData={},this.metadataFields=[],this.incidentTypeList=[],this.selectedMetadataGroup="",this.selectedMetadata={field:"",value:""},this.select2Options={containerCssClass:"form-control",width:"100%"},this.select2Options_metadata={containerCssClass:"form-control",width:"100%"},this.select2Data={countryList:[],regionList:[],stateList:[],lgaList:[],wardList:[],villageList:[],localityList:[],incidentCategoryList:[],incidentTypeList:[],factionList:[],friendlyForcesList:[],terrainList:[],associatedFeatureList:[],metadataList:[]},this.formData={}}ngOnInit(){this.storage.getItem("sessionInfo").subscribe(t=>{t=JSON.parse(t),this.userId=t.userId}),this.initFormData(),this.loadCountries(),this.loadIncidentTypes(),this.loadMetadataFields(),this.events.getEvent("approve-reviewed-incident").subscribe(t=>{null!=t&&t.IncidentId==this.incidentData.IncidentId&&this.saveIncidence()})}saveIncidence(){void 0!==this.formData.poiLatitude&&""!=this.formData.poiLatitude||(this.formData.poiLatitude=0),void 0!==this.formData.poiLongitude&&""!=this.formData.poiLongitude||(this.formData.poiLongitude=0);let t={name:this.formData.incidentTitle,type:this.formData.incidentType,location:{country:this.formData.country,region:this.formData.region,state:this.formData.state,lga:this.formData.lga,ward:this.formData.ward,village:this.formData.village,locality:this.formData.locality},date:v(this.formData.incidentDate+"T"+this.formData.incidentTime).format("D/M/YYYY HH:mm:ss"),pointOfInterest:"POINT("+this.formData.poiLatitude+" "+this.formData.poiLongitude+")",description:this.formData.comments,images:this.formData.files,metadata:{}};this.metadataFields.forEach(e=>{t.metadata[e.field]=e.value}),this.serverRequest.post("incidents/incident/edit-incident",{userId:this.userId,incidentId:this.incidentData.IncidentId,incidentData:t}).subscribe(t=>{alert("Incidence has been reviewed and approved successfully"),this.initFormData(),this.modalService.dismissAll()},t=>{this.toastService.show("An error occurred. Incidence record not reported successfully",{classname:"bg-danger text-white",delay:1e4})})}addMetadataField(){this.metadataFields.push({field:this.selectedMetadata.field,value:this.selectedMetadata.value}),this.selectedMetadata={field:"",value:""}}removeMetadataField(t){this.metadataFields.splice(t,1)}initFormData(){this.formData={country:"",region:"",state:"",lga:"",ward:"",village:"",locality:"",incidentTitle:"",incidentCategory:"",incidentType:"",comments:"",files:[],metadata:[]}}loadCountries(){this.loadSpatialEntityList("countryList","spatial-entity/entity/view-entities-by-type?entityType=1")}loadSpatialEntityChildren(t,e){""!=e&&this.loadSpatialEntityList(t,"spatial-entity/entity/view-entity-children?entityId="+e)}loadSpatialEntityList(t,e){this.serverRequest.get(e).subscribe(e=>{this.select2Data[t]=[],e.contentData.forEach(e=>{this.select2Data[t].push(e.EntityName)})})}loadRegions(t){this.loadSpatialEntityChildren("regionList",this.formData.country)}loadStates(t){this.loadSpatialEntityChildren("stateList",this.formData.region)}loadLgas(t){this.loadSpatialEntityChildren("lgaList",this.formData.state)}loadWards(t){this.loadSpatialEntityChildren("wardList",this.formData.lga)}loadVillages(t){this.loadSpatialEntityChildren("villageList",this.formData.ward)}loadLocalities(t){this.loadSpatialEntityChildren("localityList",this.formData.village)}loadIncidentTypes(){this.serverRequest.get("incidents/incident-type/view-incident-types?resourceId=1").subscribe(t=>{this.select2Data.incidentTypeList=[],t.contentData.forEach(t=>{this.select2Data.incidentTypeList.push({id:t.IncidentTypeId,text:t.IncidentTypeName})})})}getLatLon(t){return t.replace("POINT(","").replace(")","").split(" ")}loadMetadataFields(){this.serverRequest.get("incidents/metadata/get-list").subscribe(t=>{this.select2Data.metadataList=t.contentData})}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(h.I),l.Y36(f.FF),l.Y36(q.k),l.Y36(A.V),l.Y36(m.n))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-edit-field-report"]],inputs:{incidentData:"incidentData"},decls:131,vars:42,consts:[["id","kt_content_container",1,"container"],[1,"card"],[1,"card-body"],[1,"mb-5"],[1,"row"],[1,"col-5","form-group"],[1,"font-weight-semibold"],[1,"badge","badge-light-primary","fs-7","fw-bold"],["name","incidentType",1,"form-select",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-4","form-group"],["type","date","name","incidentDate",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-3","form-group"],["type","time","name","incidentTime",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-6","form-group"],["name","country",3,"ngModel","data","options","ngModelChange"],["name","region",3,"ngModel","data","options","ngModelChange"],["name","state",3,"ngModel","data","options","ngModelChange"],["name","lga",3,"ngModel","data","options","ngModelChange"],["name","ward",3,"ngModel","data","options","ngModelChange"],["type","text","name","village",1,"form-control",3,"ngModel","ngModelChange","change"],["type","text","name","locality",1,"form-control",3,"ngModel","ngModelChange"],["class","row",4,"ngIf"],[1,"row","more-height"],["name","selectedMetadataField",1,"form-select",3,"ngModel","ngModelChange"],["type","number","name","selectedMetadataValue",1,"form-control",3,"ngModel","ngModelChange"],[1,"row","d-flex","justify-content-center"],["type","button",1,"btn","btn-primary","col-4",3,"click"],[1,"fa","fa-plus"],["aria-live","polite","aria-atomic","true"],[3,"value"],[1,"table-responsive"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[3,"click"],[1,"btn","btn-link","btn-sm"],[1,"text-danger","fa","fa-times"]],template:function(t,e){1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"div",3),l.TgZ(4,"form"),l.TgZ(5,"div",4),l.TgZ(6,"div",5),l.TgZ(7,"label",6),l._uU(8,"Incident Type "),l._UZ(9,"br"),l.TgZ(10,"span",7),l._uU(11),l.qZA(),l._uU(12,":"),l.qZA(),l.TgZ(13,"select",8),l.NdJ("ngModelChange",function(t){return e.formData.incidentType=t}),l._UZ(14,"option"),l.YNc(15,y,2,2,"option",9),l.qZA(),l.qZA(),l.TgZ(16,"div",10),l.TgZ(17,"label",6),l._uU(18,"Date "),l._UZ(19,"br"),l.TgZ(20,"span",7),l._uU(21),l.qZA(),l._uU(22,":"),l.qZA(),l.TgZ(23,"input",11),l.NdJ("ngModelChange",function(t){return e.formData.incidentDate=t}),l.qZA(),l.qZA(),l.TgZ(24,"div",12),l.TgZ(25,"label",6),l._uU(26,"Time "),l._UZ(27,"br"),l.TgZ(28,"span",7),l._uU(29,"\xa0"),l.qZA(),l._uU(30,":"),l.qZA(),l.TgZ(31,"input",13),l.NdJ("ngModelChange",function(t){return e.formData.incidentTime=t}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(32,"div",4),l.TgZ(33,"div",14),l.TgZ(34,"label",6),l._uU(35,"Country "),l._UZ(36,"br"),l.TgZ(37,"span",7),l._uU(38),l.qZA(),l._uU(39,":"),l.qZA(),l.TgZ(40,"ng-select2",15),l.NdJ("ngModelChange",function(t){return e.formData.country=t})("ngModelChange",function(t){return e.loadRegions(t)}),l.qZA(),l.qZA(),l.TgZ(41,"div",14),l.TgZ(42,"label",6),l._uU(43,"Region "),l._UZ(44,"br"),l.TgZ(45,"span",7),l._uU(46),l.qZA(),l._uU(47,":"),l.qZA(),l.TgZ(48,"ng-select2",16),l.NdJ("ngModelChange",function(t){return e.formData.region=t})("ngModelChange",function(t){return e.loadStates(t)}),l.qZA(),l.qZA(),l.TgZ(49,"div",14),l.TgZ(50,"label",6),l._uU(51,"State "),l._UZ(52,"br"),l.TgZ(53,"span",7),l._uU(54),l.qZA(),l._uU(55,":"),l.qZA(),l.TgZ(56,"ng-select2",17),l.NdJ("ngModelChange",function(t){return e.formData.state=t})("ngModelChange",function(t){return e.loadLgas(t)}),l.qZA(),l.qZA(),l.TgZ(57,"div",14),l.TgZ(58,"label",6),l._uU(59,"LGA "),l._UZ(60,"br"),l.TgZ(61,"span",7),l._uU(62),l.qZA(),l._uU(63,":"),l.qZA(),l.TgZ(64,"ng-select2",18),l.NdJ("ngModelChange",function(t){return e.formData.lga=t})("ngModelChange",function(t){return e.loadWards(t)}),l.qZA(),l.qZA(),l.TgZ(65,"div",14),l.TgZ(66,"label",6),l._uU(67,"Ward "),l._UZ(68,"br"),l.TgZ(69,"span",7),l._uU(70),l.qZA(),l._uU(71,":"),l.qZA(),l.TgZ(72,"ng-select2",19),l.NdJ("ngModelChange",function(t){return e.formData.ward=t})("ngModelChange",function(t){return e.loadVillages(t)}),l.qZA(),l.qZA(),l.TgZ(73,"div",14),l.TgZ(74,"label",6),l._uU(75,"Village "),l._UZ(76,"br"),l.TgZ(77,"span",7),l._uU(78),l.qZA(),l._uU(79,":"),l.qZA(),l.TgZ(80,"input",20),l.NdJ("ngModelChange",function(t){return e.formData.village=t})("change",function(t){return e.loadLocalities(t)}),l.qZA(),l.qZA(),l.TgZ(81,"div",14),l.TgZ(82,"label",6),l._uU(83,"Locality / Area "),l._UZ(84,"br"),l.TgZ(85,"span",7),l._uU(86),l.qZA(),l._uU(87,":"),l.qZA(),l.TgZ(88,"input",21),l.NdJ("ngModelChange",function(t){return e.formData.locality=t}),l.qZA(),l.qZA(),l.TgZ(89,"div",12),l.TgZ(90,"label",6),l._uU(91,"POI Latitude "),l._UZ(92,"br"),l.TgZ(93,"span",7),l._uU(94),l.qZA(),l._uU(95,":"),l.qZA(),l.TgZ(96,"input",21),l.NdJ("ngModelChange",function(t){return e.formData.poiLatitude=t}),l.qZA(),l.qZA(),l.TgZ(97,"div",12),l.TgZ(98,"label",6),l._uU(99,"POI Longitude "),l._UZ(100,"br"),l.TgZ(101,"span",7),l._uU(102),l.qZA(),l._uU(103,":"),l.qZA(),l.TgZ(104,"input",21),l.NdJ("ngModelChange",function(t){return e.formData.poiLongitude=t}),l.qZA(),l.qZA(),l.qZA(),l.YNc(105,w,12,1,"div",22),l.TgZ(106,"div",23),l.TgZ(107,"div",10),l.TgZ(108,"label",6),l._uU(109,"Category:"),l.qZA(),l.TgZ(110,"select",24),l.NdJ("ngModelChange",function(t){return e.selectedMetadataGroup=t}),l.TgZ(111,"option"),l._uU(112,"Select"),l.qZA(),l.YNc(113,D,2,2,"option",9),l.ALo(114,"keyvalue"),l.qZA(),l.qZA(),l.TgZ(115,"div",5),l.TgZ(116,"label",6),l._uU(117,"Metadata:"),l.qZA(),l.TgZ(118,"select",24),l.NdJ("ngModelChange",function(t){return e.selectedMetadata.field=t}),l.TgZ(119,"option"),l._uU(120,"Select"),l.qZA(),l.YNc(121,U,2,2,"option",9),l.qZA(),l.qZA(),l.TgZ(122,"div",12),l.TgZ(123,"label",6),l._uU(124,"Value:"),l.qZA(),l.TgZ(125,"input",25),l.NdJ("ngModelChange",function(t){return e.selectedMetadata.value=t}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(126,"div",26),l.TgZ(127,"button",27),l.NdJ("click",function(){return e.addMetadataField()}),l._UZ(128,"i",28),l._uU(129," Add Metadata"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l._UZ(130,"app-toast-container",29)),2&t&&(l.xp6(11),l.Oqu(e.incidentData.IncidentTypeName),l.xp6(2),l.Q6J("ngModel",e.formData.incidentType),l.xp6(2),l.Q6J("ngForOf",e.select2Data.incidentTypeList),l.xp6(6),l.Oqu(e.incidentData.IncidentDate),l.xp6(2),l.Q6J("ngModel",e.formData.incidentDate),l.xp6(8),l.Q6J("ngModel",e.formData.incidentTime),l.xp6(7),l.Oqu(e.incidentData.Country),l.xp6(2),l.Q6J("ngModel",e.formData.country)("data",e.select2Data.countryList)("options",e.select2Options),l.xp6(6),l.Oqu(e.incidentData.Region),l.xp6(2),l.Q6J("ngModel",e.formData.region)("data",e.select2Data.regionList)("options",e.select2Options),l.xp6(6),l.Oqu(e.incidentData.State),l.xp6(2),l.Q6J("ngModel",e.formData.state)("data",e.select2Data.stateList)("options",e.select2Options),l.xp6(6),l.Oqu(e.incidentData.LGA),l.xp6(2),l.Q6J("ngModel",e.formData.lga)("data",e.select2Data.lgaList)("options",e.select2Options),l.xp6(6),l.Oqu(e.incidentData.Ward),l.xp6(2),l.Q6J("ngModel",e.formData.ward)("data",e.select2Data.wardList)("options",e.select2Options),l.xp6(6),l.Oqu(e.incidentData.Village),l.xp6(2),l.Q6J("ngModel",e.formData.village),l.xp6(6),l.Oqu(e.incidentData.Locality),l.xp6(2),l.Q6J("ngModel",e.formData.locality),l.xp6(6),l.Oqu(e.getLatLon(e.incidentData.IncidentPointOfInterest)[0]),l.xp6(2),l.Q6J("ngModel",e.formData.poiLatitude),l.xp6(6),l.Oqu(e.getLatLon(e.incidentData.IncidentPointOfInterest)[1]),l.xp6(2),l.Q6J("ngModel",e.formData.poiLongitude),l.xp6(1),l.Q6J("ngIf",e.metadataFields.length>0),l.xp6(5),l.Q6J("ngModel",e.selectedMetadataGroup),l.xp6(3),l.Q6J("ngForOf",l.lcZ(114,40,e.select2Data.metadataList)),l.xp6(5),l.Q6J("ngModel",e.selectedMetadata.field),l.xp6(3),l.Q6J("ngForOf",e.select2Data.metadataList[e.selectedMetadataGroup]),l.xp6(4),l.Q6J("ngModel",e.selectedMetadata.value))},directives:[a._Y,a.JL,a.F,a.EJ,a.JJ,a.On,a.YN,a.Kr,n.sg,a.Fj,x.c,n.O5,a.wV,b.J],pipes:[n.Nd],styles:[".more-height[_ngcontent-%COMP%] > .form-group[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]{height:45px}"]}),t})(),M=(()=>{class t{constructor(){this.incidentData={}}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-decline-field-report"]],inputs:{incidentData:"incidentData"},decls:10,vars:0,consts:[["id","kt_content_container",1,"container"],[1,"card"],[1,"card-body"],[1,"mb-5"],[1,"row"],[1,"col-12","form-group"],[1,"font-weight-semibold"],["rows","10",1,"form-control"]],template:function(t,e){1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"div",3),l.TgZ(4,"form"),l.TgZ(5,"div",4),l.TgZ(6,"div",5),l.TgZ(7,"label",6),l._uU(8,"Comments:"),l.qZA(),l._UZ(9,"textarea",7),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA())},directives:[a._Y,a.JL,a.F],styles:[""]}),t})();function k(t,e){if(1&t&&(l.TgZ(0,"span",55),l.TgZ(1,"span",56),l._uU(2),l.qZA(),l.TgZ(3,"span",57),l._uU(4,"Area"),l.qZA(),l.qZA()),2&t){const t=l.oxw().$implicit;l.xp6(2),l.hij("",t.Locality," ")}}function I(t,e){if(1&t&&(l.TgZ(0,"span",55),l.TgZ(1,"span",56),l._uU(2),l.qZA(),l.TgZ(3,"span",57),l._uU(4,"Ward"),l.qZA(),l.qZA()),2&t){const t=l.oxw().$implicit;l.xp6(2),l.hij("",t.Ward," ")}}function L(t,e){if(1&t&&(l.TgZ(0,"span",55),l.TgZ(1,"span",56),l._uU(2),l.qZA(),l.TgZ(3,"span",57),l._uU(4,"Village"),l.qZA(),l.qZA()),2&t){const t=l.oxw().$implicit;l.xp6(2),l.hij("",t.Village," ")}}function J(t,e){1&t&&(l.TgZ(0,"span",58),l._uU(1,"Unreviewed"),l.qZA())}function N(t,e){1&t&&(l.TgZ(0,"span",59),l._uU(1,"Approved"),l.qZA())}function O(t,e){if(1&t&&(l.TgZ(0,"span",47),l._UZ(1,"br"),l._uU(2),l.qZA()),2&t){const t=l.oxw().$implicit;l.xp6(2),l.Oqu(t.ReviewedByAccountName)}}function F(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"td"),l.TgZ(1,"span",60),l.NdJ("click",function(){l.CHM(t);const e=l.oxw().$implicit,i=l.oxw(2),n=l.MAs(67);return i.openIncidentForReview(e,n)}),l._UZ(2,"i",61),l._uU(3,"\xa0 "),l.qZA(),l.TgZ(4,"span",60),l.NdJ("click",function(){l.CHM(t);const e=l.oxw().$implicit,i=l.oxw(2),n=l.MAs(67);return i.openIncidentForDecline(e,n)}),l._UZ(5,"i",62),l._uU(6,"\xa0 "),l.qZA(),l.qZA()}}function Y(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"td"),l.TgZ(1,"span",63),l.NdJ("click",function(){l.CHM(t);const e=l.oxw().$implicit,i=l.oxw(2),n=l.MAs(67);return i.openIncident(e,n)}),l._uU(2," view "),l.qZA(),l.qZA()}}function Q(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"tr"),l.TgZ(1,"td",43),l.NdJ("click",function(){const e=l.CHM(t).$implicit,i=l.oxw(2),n=l.MAs(67);return i.openIncident(e,n)}),l._uU(2),l.qZA(),l.TgZ(3,"td",44),l.NdJ("click",function(){const e=l.CHM(t).$implicit,i=l.oxw(2),n=l.MAs(67);return i.openIncident(e,n)}),l.TgZ(4,"div",45),l._uU(5),l.qZA(),l.qZA(),l.TgZ(6,"td",43),l.NdJ("click",function(){const e=l.CHM(t).$implicit,i=l.oxw(2),n=l.MAs(67);return i.openIncident(e,n)}),l.TgZ(7,"div",3),l.TgZ(8,"div",46),l.TgZ(9,"span",47),l._uU(10),l.qZA(),l.TgZ(11,"span",48),l._uU(12),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(13,"td",43),l.NdJ("click",function(){const e=l.CHM(t).$implicit,i=l.oxw(2),n=l.MAs(67);return i.openIncident(e,n)}),l.TgZ(14,"span",49),l._uU(15),l.qZA(),l.YNc(16,k,5,1,"span",50),l.YNc(17,I,5,1,"span",50),l.YNc(18,L,5,1,"span",50),l.TgZ(19,"span",51),l._uU(20),l.qZA(),l.qZA(),l.TgZ(21,"td",43),l.NdJ("click",function(){const e=l.CHM(t).$implicit,i=l.oxw(2),n=l.MAs(67);return i.openIncident(e,n)}),l._uU(22),l.qZA(),l.TgZ(23,"td",43),l.NdJ("click",function(){const e=l.CHM(t).$implicit,i=l.oxw(2),n=l.MAs(67);return i.openIncident(e,n)}),l._uU(24),l.qZA(),l.TgZ(25,"td",43),l.NdJ("click",function(){const e=l.CHM(t).$implicit,i=l.oxw(2),n=l.MAs(67);return i.openIncident(e,n)}),l.YNc(26,J,2,0,"span",52),l.YNc(27,N,2,0,"span",53),l.YNc(28,O,3,1,"span",54),l.qZA(),l.YNc(29,F,7,0,"td",39),l.YNc(30,Y,3,0,"td",39),l.qZA()}if(2&t){const t=e.$implicit;l.xp6(2),l.Oqu(t.IncidentId),l.xp6(3),l.Oqu(t.IncidentName),l.xp6(5),l.Oqu(t.AccountName),l.xp6(2),l.AsE("",t.FirstName," ",t.LastName,""),l.xp6(3),l.AsE("",t.LGA,", ",t.State,""),l.xp6(1),l.Q6J("ngIf","UNKNOWN LOCALITY"!=t.Locality),l.xp6(1),l.Q6J("ngIf","UNKNOWN WARD"!=t.Ward),l.xp6(1),l.Q6J("ngIf","UNKNOWN VILLAGE"!=t.Village),l.xp6(2),l.Oqu(t.Country),l.xp6(2),l.Oqu(t.IncidentTypeName),l.xp6(2),l.Oqu(t.IncidentDate),l.xp6(2),l.Q6J("ngIf",0!=t.StatusCode),l.xp6(1),l.Q6J("ngIf",0==t.StatusCode),l.xp6(1),l.Q6J("ngIf",0==t.StatusCode),l.xp6(1),l.Q6J("ngIf",0!=t.StatusCode),l.xp6(1),l.Q6J("ngIf",0==t.StatusCode)}}function S(t,e){if(1&t&&(l.TgZ(0,"tbody",41),l.YNc(1,Q,31,18,"tr",42),l.qZA()),2&t){const t=l.oxw();l.xp6(1),l.Q6J("ngForOf",t.currentData)}}function R(t,e){1&t&&(l.TgZ(0,"tbody"),l.TgZ(1,"tr"),l.TgZ(2,"td",64),l._uU(3,"No incidences available"),l.qZA(),l.qZA(),l.qZA())}function $(t,e){if(1&t&&(l.TgZ(0,"div",75),l._UZ(1,"app-edit-field-report",72),l.qZA()),2&t){const t=l.oxw(2);l.xp6(1),l.Q6J("incidentData",t.currentView)}}function E(t,e){if(1&t&&(l.TgZ(0,"div",75),l._UZ(1,"app-decline-field-report",72),l.qZA()),2&t){const t=l.oxw(2);l.xp6(1),l.Q6J("incidentData",t.currentView)}}function P(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",76),l.TgZ(1,"button",77),l.NdJ("click",function(){return l.CHM(t),l.oxw(2).initForReview()}),l._uU(2,"Review & Approve"),l.qZA(),l.TgZ(3,"button",78),l.NdJ("click",function(){return l.CHM(t),l.oxw(2).initForDecline()}),l._uU(4,"Decline"),l.qZA(),l.qZA()}}function G(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",76),l.TgZ(1,"button",79),l.NdJ("click",function(){return l.CHM(t),l.oxw(2).sendApproveEvent()}),l._uU(2,"Approve Report"),l.qZA(),l.qZA()}}function V(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",76),l.TgZ(1,"button",78),l.NdJ("click",function(){return l.CHM(t),l.oxw(2).sendDeclineEvent()}),l._uU(2,"Decline Report"),l.qZA(),l.qZA()}}const j=function(t,e){return{"col-12":t,"col-5":e}};function H(t,e){if(1&t&&(l.TgZ(0,"div",65),l.TgZ(1,"h4",66),l._uU(2,"Field Incident Report"),l.qZA(),l.TgZ(3,"button",67),l.NdJ("click",function(){return e.$implicit.dismiss("Cross click")}),l.TgZ(4,"span",68),l._uU(5,"\xd7"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(6,"div",69),l.TgZ(7,"div",70),l.TgZ(8,"div",71),l._UZ(9,"app-view-single-field-report",72),l.qZA(),l.YNc(10,$,2,1,"div",73),l.YNc(11,E,2,1,"div",73),l.qZA(),l.qZA(),l.YNc(12,P,5,0,"div",74),l.YNc(13,G,3,0,"div",74),l.YNc(14,V,3,0,"div",74)),2&t){const t=l.oxw();l.xp6(8),l.Q6J("ngClass",l.WLB(7,j,!t.forReview&&!t.forDecline,t.forReview||t.forDecline)),l.xp6(1),l.Q6J("incidentData",t.currentView),l.xp6(1),l.Q6J("ngIf",t.forReview),l.xp6(1),l.Q6J("ngIf",t.forDecline),l.xp6(1),l.Q6J("ngIf",!t.forReview&&!t.forDecline),l.xp6(1),l.Q6J("ngIf",t.forReview),l.xp6(1),l.Q6J("ngIf",t.forDecline)}}let z=(()=>{class t{constructor(t,e,i){this.serverRequest=t,this.modalService=e,this.events=i,this.globalDateRange={startDate:"",endDate:""},this.currentData=[],this.currentView={},this.forReview=!1,this.forDecline=!1,this.dtOptions={paging:!1,lengthChange:!1,pagingType:"full_numbers",pageLength:100,serverSide:!0,processing:!0,ajax:(t,e)=>{this.serverRequest.get("incidents/incident/view-raw-data?length="+t.length+"&start="+t.start+"&search="+t.search.value+"&startDate="+this.globalDateRange.startDate+"&endDate="+this.globalDateRange.endDate).subscribe(t=>{this.currentData=[],this.currentData=t.contentData.data,e({recordsTotal:t.contentData.recordsTotal,recordsFiltered:t.contentData.recordsFiltered,data:[]})})}},this.dtTrigger=new Z.xQ}ngOnInit(){this.dtTrigger.next(),setTimeout(()=>{this.rerender()},500)}ngAfterViewInit(){this.dtTrigger.next()}ngOnDestroy(){this.dtTrigger.unsubscribe()}rerender(){this.dtElement.dtInstance.then(t=>{t.destroy(),this.dtTrigger.next()})}openIncident(t,e){this.forReview=!1,this.forDecline=!1,this.currentView=t,this.modalRef=this.modalService.open(e,{backdropClass:"modal-backdrop",size:"xl",scrollable:!0})}openIncidentForReview(t,e){this.initForReview(),this.currentView=t,this.modalRef=this.modalService.open(e,{backdropClass:"modal-backdrop",size:"xl",scrollable:!0})}openIncidentForDecline(t,e){this.initForDecline(),this.currentView=t,this.modalRef=this.modalService.open(e,{backdropClass:"modal-backdrop",size:"xl",scrollable:!0})}initForReview(){this.forReview=!0,this.forDecline=!1}initForDecline(){this.forDecline=!0,this.forReview=!1}sendApproveEvent(){this.events.broadcast("approve-reviewed-incident",{IncidentId:this.currentView.IncidentId})}sendDeclineEvent(){this.events.broadcast("decline-reviewed-incident",{status:!0})}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(h.I),l.Y36(f.FF),l.Y36(m.n))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-view-field-reports"]],viewQuery:function(t,e){if(1&t&&l.Gf(p.G,5),2&t){let t;l.iGM(t=l.CRH())&&(e.dtElement=t.first)}},decls:68,vars:4,consts:[[1,"wrapper","d-flex","flex-column","flex-row-fluid"],[1,"card","rounded-0","bgi-no-repeat","bgi-position-x-end","bgi-size-cover",2,"background-color","#4b5320","background-size","auto 100%"],[1,"card-body","container","pt-10","pb-8"],[1,"d-flex","align-items-center"],[1,"fw-bold","me-3","text-white"],[1,"fw-bold","text-white","opacity-50"],[1,"d-flex","flex-column"],[1,"d-lg-flex","align-lg-items-center"],[1,"rounded","d-flex","flex-column","flex-lg-row","align-items-lg-center","bg-white","p-5","w-xxl-850px","h-lg-60px","me-lg-10","my-5"],[1,"row","flex-grow-1","mb-5","mb-lg-0"],[1,"col-lg-4","d-flex","align-items-center","mb-3","mb-lg-0"],[1,"svg-icon","svg-icon-1","svg-icon-gray-400","me-1"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","width","24px","height","24px","viewBox","0 0 24 24","version","1.1"],["stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["x","0","y","0","width","24","height","24"],["d","M14.2928932,16.7071068 C13.9023689,16.3165825 13.9023689,15.6834175 14.2928932,15.2928932 C14.6834175,14.9023689 15.3165825,14.9023689 15.7071068,15.2928932 L19.7071068,19.2928932 C20.0976311,19.6834175 20.0976311,20.3165825 19.7071068,20.7071068 C19.3165825,21.0976311 18.6834175,21.0976311 18.2928932,20.7071068 L14.2928932,16.7071068 Z","fill","#000000","fill-rule","nonzero","opacity","0.3"],["d","M11,16 C13.7614237,16 16,13.7614237 16,11 C16,8.23857625 13.7614237,6 11,6 C8.23857625,6 6,8.23857625 6,11 C6,13.7614237 8.23857625,16 11,16 Z M11,18 C7.13400675,18 4,14.8659932 4,11 C4,7.13400675 7.13400675,4 11,4 C14.8659932,4 18,7.13400675 18,11 C18,14.8659932 14.8659932,18 11,18 Z","fill","#000000","fill-rule","nonzero"],["type","text","name","search","value","","placeholder","Keyword",1,"form-control","form-control-flush","flex-grow-1"],[1,"col-lg-4","d-flex","align-items-center","mb-5","mb-lg-0"],[1,"bullet","bg-secondary","d-none","d-lg-block","h-30px","w-2px","me-5"],["x","5","y","5","width","5","height","5","rx","1","fill","#000000"],["x","14","y","5","width","5","height","5","rx","1","fill","#000000","opacity","0.3"],["x","5","y","14","width","5","height","5","rx","1","fill","#000000","opacity","0.3"],["x","14","y","14","width","5","height","5","rx","1","fill","#000000","opacity","0.3"],["data-control","select2","data-placeholder","Incident Type","data-hide-search","true",1,"form-select","border-0","flex-grow-1"],["value",""],["value","1","selected","selected"],[1,"col-lg-4","d-flex","align-items-center"],[1,"svg-icon","svg-icon-1","svg-icon-gray-400","me-3"],["d","M5,10.5 C5,6 8,3 12.5,3 C17,3 20,6.75 20,10.5 C20,12.8325623 17.8236613,16.03566 13.470984,20.1092932 C12.9154018,20.6292577 12.0585054,20.6508331 11.4774555,20.1594925 C7.15915182,16.5078313 5,13.2880005 5,10.5 Z M12.5,12 C13.8807119,12 15,10.8807119 15,9.5 C15,8.11928813 13.8807119,7 12.5,7 C11.1192881,7 10,8.11928813 10,9.5 C10,10.8807119 11.1192881,12 12.5,12 Z","fill","#000000","fill-rule","nonzero"],["type","text","name","search","value","","placeholder","Location",1,"form-control","form-control-flush","flex-grow-1"],[1,"min-w-150px","text-end"],["type","submit","id","kt_advanced_search_button_1",1,"btn","btn-dark"],[1,"col-md-12","table-responsive"],["datatable","",1,"table","table-hover","align-middle","gs-0","gy-4",3,"dtOptions","dtTrigger"],[1,"fw-bolder","text-muted","bg-light"],[1,"min-w-200px"],[1,"text-center"],["style","max-height: 80vh; overflow: scroll;",4,"ngIf"],[4,"ngIf"],["content",""],[2,"max-height","80vh","overflow","scroll"],[4,"ngFor","ngForOf"],[3,"click"],[1,"min-w-200px",3,"click"],[1,"wrap-text"],[1,"d-flex","justify-content-start","flex-column"],[1,"text-dark","fw-bolder","text-hover-primary","mb-1","fs-6"],[1,"text-muted","fw-bold","text-muted","d-block","fs-7"],[1,"text-dark","fw-bolder","text-hover-primary","d-block","mb-1","fs-6"],["class","text-muted d-block fs-7",4,"ngIf"],[1,"text-muted","text-small","text-muted","d-block","fs-7"],["class","badge badge-light-primary fs-7 fw-bold",4,"ngIf"],["class","badge badge-success fs-7 fw-bold",4,"ngIf"],["class","text-dark fw-bolder text-hover-primary mb-1 fs-6",4,"ngIf"],[1,"text-muted","d-block","fs-7"],[1,"text-muted","fw-bold"],[1,"text-small"],[1,"badge","badge-light-primary","fs-7","fw-bold"],[1,"badge","badge-success","fs-7","fw-bold"],[1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm","me-1",3,"click"],[1,"fa","fa-edit"],[1,"fa","fa-times","text-danger"],[1,"btn","btn-icon","btn-bg-light","btn-active-color-success","btn-sm","me-1",3,"click"],["colspan","10"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row"],[3,"ngClass"],[3,"incidentData"],["class","col-7 left-border",4,"ngIf"],["class","modal-footer",4,"ngIf"],[1,"col-7","left-border"],[1,"modal-footer"],["type","button",1,"btn","btn-info",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-success",3,"click"]],template:function(t,e){1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"div",3),l.TgZ(4,"h1",4),l._uU(5,"Reported Field Incidents"),l.qZA(),l.TgZ(6,"span",5),l._uU(7,"Data Management Portal"),l.qZA(),l.qZA(),l.TgZ(8,"div",6),l.TgZ(9,"div",7),l.TgZ(10,"div",8),l.TgZ(11,"div",9),l.TgZ(12,"div",10),l.TgZ(13,"span",11),l.O4$(),l.TgZ(14,"svg",12),l.TgZ(15,"g",13),l._UZ(16,"rect",14),l._UZ(17,"path",15),l._UZ(18,"path",16),l.qZA(),l.qZA(),l.qZA(),l.kcU(),l._UZ(19,"input",17),l.qZA(),l.TgZ(20,"div",18),l._UZ(21,"div",19),l.TgZ(22,"span",11),l.O4$(),l.TgZ(23,"svg",12),l.TgZ(24,"g",13),l._UZ(25,"rect",20),l._UZ(26,"rect",21),l._UZ(27,"rect",22),l._UZ(28,"rect",23),l.qZA(),l.qZA(),l.qZA(),l.kcU(),l.TgZ(29,"select",24),l._UZ(30,"option",25),l.TgZ(31,"option",26),l._uU(32,"Incident Type"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(33,"div",27),l._UZ(34,"div",19),l.TgZ(35,"span",28),l.O4$(),l.TgZ(36,"svg",12),l.TgZ(37,"g",13),l._UZ(38,"rect",14),l._UZ(39,"path",29),l.qZA(),l.qZA(),l.qZA(),l.kcU(),l._UZ(40,"input",30),l.qZA(),l.qZA(),l.TgZ(41,"div",31),l.TgZ(42,"button",32),l._uU(43,"Search"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(44,"div",33),l.TgZ(45,"table",34),l.TgZ(46,"thead"),l.TgZ(47,"tr",35),l.TgZ(48,"th"),l._uU(49,"ID"),l.qZA(),l.TgZ(50,"th",36),l._uU(51,"Incident"),l.qZA(),l.TgZ(52,"th"),l._uU(53,"Account"),l.qZA(),l.TgZ(54,"th"),l._uU(55,"Location"),l.qZA(),l.TgZ(56,"th"),l._uU(57,"Incident Type"),l.qZA(),l.TgZ(58,"th"),l._uU(59,"Date"),l.qZA(),l.TgZ(60,"th"),l._uU(61,"Status"),l.qZA(),l.TgZ(62,"th",37),l._uU(63,"Actions"),l.qZA(),l.qZA(),l.qZA(),l.YNc(64,S,2,1,"tbody",38),l.YNc(65,R,4,0,"tbody",39),l.qZA(),l.qZA(),l.qZA(),l.YNc(66,H,15,10,"ng-template",null,40,l.W1O)),2&t&&(l.xp6(45),l.Q6J("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),l.xp6(19),l.Q6J("ngIf",0!=(null==e.currentData?null:e.currentData.length)),l.xp6(1),l.Q6J("ngIf",0==(null==e.currentData?null:e.currentData.length)))},directives:[a.YN,a.Kr,p.G,n.O5,n.sg,n.mk,T.M,C,M],styles:[".wrapper[_ngcontent-%COMP%]{width:95vw;padding-left:0}.modal-backdrop[_ngcontent-%COMP%]{background-color:#4b5320}.w-50[_ngcontent-%COMP%]{width:50%!important}.left-border[_ngcontent-%COMP%]{min-height:100vh;border-left:1px solid #4b5320;border-radius:25px 0}.wrap-text[_ngcontent-%COMP%]{max-height:60px;overflow:hidden;text-overflow:ellipsis}"]}),t})();var B=i(2617);function W(t,e,i,n){return new(i||(i=Promise))(function(a,o){function c(t){try{s(n.next(t))}catch(e){o(e)}}function r(t){try{s(n.throw(t))}catch(e){o(e)}}function s(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(c,r)}s((n=n.apply(t,e||[])).next())})}function K(t){return W(this,void 0,void 0,function*(){const e=new ClipboardItem({[t.type]:t});yield navigator.clipboard.write([e])})}var X=i(4866);let tt=(()=>{class t{constructor(){this.categoriesData={},this.chartOption={title:{text:"Bar Chart",subtext:"",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:[],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[]}}ngOnInit(){}ngOnChanges(t){const e=t.categoriesData;null!==e.currentValue&&(this.categoriesData=e.currentValue,void 0!==this.categoriesData.data&&setTimeout(()=>{this.loadData()},500))}onChartInit(t){this.chart=t}loadData(){if(void 0!==this.categoriesData.data){let t=[];for(let e in this.categoriesData.data){let i={name:e,type:"bar",barGap:0,label:[],emphasis:{focus:"series"},data:Object.values(this.categoriesData.data[e])};t.push(i)}this.chart.setOption({legend:{bottom:0,data:this.categoriesData.legends},xAxis:{data:this.categoriesData.values},yAxis:[{type:"value"}],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},series:t,title:{text:"Bar Chart",subtext:this.categoriesData.legends.length+" Locations",left:"center"}},!0)}else this.chart.clear()}copyToClipboard(){const t=this.chart.getDataURL({pixelRatio:2,backgroundColor:"#fff"});(new Image).src=t;try{(function(t){return W(this,void 0,void 0,function*(){const e=yield function(t){return W(this,void 0,void 0,function*(){const e=yield fetch(`${t}`);return yield e.blob()})}(t);if(function(t){return t.type.includes("jpeg")}(e)){const t=yield function(t){return W(this,void 0,void 0,function*(){const e=URL.createObjectURL(t),i=yield function(t){return W(this,void 0,void 0,function*(){return new Promise(function(e,i){const n=document.createElement("img");n.crossOrigin="anonymous",n.src=t,n.onload=function(t){e(t.target)},n.onabort=i,n.onerror=i})})}(e);return yield function(t){return W(this,void 0,void 0,function*(){return new Promise(function(e,i){const n=document.createElement("canvas"),a=n.getContext("2d");if(a){const{width:o,height:c}=t;n.width=o,n.height=c,a.drawImage(t,0,0,o,c),n.toBlob(function(t){t?e(t):i("Cannot get blob from image element")},"image/png",1)}})})}(i)})}(e);return yield K(t),e}if(function(t){return t.type.includes("png")}(e))return yield K(e),e;throw new Error("Cannot copy this type of image to clipboard")})})(t).then(()=>{console.log("Image Copied")}).catch(t=>{console.log("Error: ",t.message)})}catch(e){console.error(e)}console.log(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-bar-chart"]],inputs:{categoriesData:"categoriesData"},features:[l.TTD],decls:6,vars:1,consts:[[1,"btn","btn-default",3,"click"],[1,"card"],[1,"card-body"],[1,"chart-container"],["echarts","",3,"options","chartInit"]],template:function(t,e){1&t&&(l.TgZ(0,"button",0),l.NdJ("click",function(){return e.copyToClipboard()}),l._uU(1,"Copy"),l.qZA(),l.TgZ(2,"div",1),l.TgZ(3,"div",2),l.TgZ(4,"div",3),l.TgZ(5,"div",4),l.NdJ("chartInit",function(t){return e.onChartInit(t)}),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&t&&(l.xp6(5),l.Q6J("options",e.chartOption))},directives:[X._w],styles:[""]}),t})(),et=(()=>{class t{constructor(){this.categoriesData={},this.chartOption={title:{text:"Pie Chart",subtext:"",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[]}}ngOnInit(){}ngOnChanges(t){const e=t.categoriesData;null!==e.currentValue&&(this.categoriesData=e.currentValue,void 0!==this.categoriesData.data&&setTimeout(()=>{this.loadData()},500))}onChartInit(t){this.chart=t}loadData(){if(void 0!==this.categoriesData.data){let t=[];for(let e in this.categoriesData.data){let i=this.categoriesData.data[e],n=[];for(let t in i)n.push({name:t,value:i[t]});t.push({name:e,type:"pie",radius:"50%",emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},data:n})}this.chart.setOption({tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:t,title:{text:"Pie Chart",subtext:this.categoriesData.legends.length+" Locations",left:"center"}},!0)}else this.chart.clear()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-pie-chart"]],inputs:{categoriesData:"categoriesData"},features:[l.TTD],decls:4,vars:1,consts:[[1,"card"],[1,"card-body"],[1,"chart-container"],["echarts","",3,"options","chartInit"]],template:function(t,e){1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"div",3),l.NdJ("chartInit",function(t){return e.onChartInit(t)}),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&t&&(l.xp6(3),l.Q6J("options",e.chartOption))},directives:[X._w],styles:[""]}),t})();function it(t,e){if(1&t&&(l.TgZ(0,"div",39),l._UZ(1,"input",40),l.TgZ(2,"label",41),l._uU(3),l.qZA(),l.qZA()),2&t){const t=l.oxw().$implicit;l.xp6(3),l.hij(" ",t.key,"")}}function nt(t,e){if(1&t&&(l.TgZ(0,"div"),l.YNc(1,it,4,1,"div",38),l.qZA()),2&t){const t=e.$implicit;l.xp6(1),l.Q6J("ngIf",1==t.value)}}function at(t,e){if(1&t&&(l.TgZ(0,"div",33),l.TgZ(1,"p",34),l._uU(2,"Country"),l.qZA(),l.TgZ(3,"div",35),l.YNc(4,nt,2,1,"div",36),l.ALo(5,"keyvalue"),l.qZA(),l._UZ(6,"div",37),l.qZA()),2&t){const t=l.oxw();l.xp6(4),l.Q6J("ngForOf",l.lcZ(5,1,t.selectedLocations.country))}}function ot(t,e){if(1&t&&(l.TgZ(0,"div",39),l._UZ(1,"input",40),l.TgZ(2,"label",41),l._uU(3),l.qZA(),l.qZA()),2&t){const t=l.oxw().$implicit;l.xp6(3),l.hij(" ",t.key,"")}}function ct(t,e){if(1&t&&(l.TgZ(0,"div"),l.YNc(1,ot,4,1,"div",38),l.qZA()),2&t){const t=e.$implicit;l.xp6(1),l.Q6J("ngIf",1==t.value)}}function rt(t,e){if(1&t&&(l.TgZ(0,"div",33),l.TgZ(1,"p",34),l._uU(2,"Region"),l.qZA(),l.TgZ(3,"div",35),l.YNc(4,ct,2,1,"div",36),l.ALo(5,"keyvalue"),l.qZA(),l._UZ(6,"div",37),l.qZA()),2&t){const t=l.oxw();l.xp6(4),l.Q6J("ngForOf",l.lcZ(5,1,t.selectedLocations.region))}}function st(t,e){if(1&t&&(l.TgZ(0,"div",39),l._UZ(1,"input",40),l.TgZ(2,"label",41),l._uU(3),l.qZA(),l.qZA()),2&t){const t=l.oxw().$implicit;l.xp6(3),l.hij(" ",t.key,"")}}function lt(t,e){if(1&t&&(l.TgZ(0,"div"),l.YNc(1,st,4,1,"div",38),l.qZA()),2&t){const t=e.$implicit;l.xp6(1),l.Q6J("ngIf",1==t.value)}}function dt(t,e){if(1&t&&(l.TgZ(0,"div",33),l.TgZ(1,"p",34),l._uU(2,"State"),l.qZA(),l.TgZ(3,"div",35),l.YNc(4,lt,2,1,"div",36),l.ALo(5,"keyvalue"),l.qZA(),l._UZ(6,"div",37),l.qZA()),2&t){const t=l.oxw();l.xp6(4),l.Q6J("ngForOf",l.lcZ(5,1,t.selectedLocations.state))}}function gt(t,e){if(1&t&&(l.TgZ(0,"div",39),l._UZ(1,"input",40),l.TgZ(2,"label",41),l._uU(3),l.qZA(),l.qZA()),2&t){const t=l.oxw().$implicit;l.xp6(3),l.hij(" ",t.key,"")}}function ut(t,e){if(1&t&&(l.TgZ(0,"div"),l.YNc(1,gt,4,1,"div",38),l.qZA()),2&t){const t=e.$implicit;l.xp6(1),l.Q6J("ngIf",1==t.value)}}function Zt(t,e){if(1&t&&(l.TgZ(0,"div",33),l.TgZ(1,"p",34),l._uU(2,"LGA"),l.qZA(),l.TgZ(3,"div",35),l.YNc(4,ut,2,1,"div",36),l.ALo(5,"keyvalue"),l.qZA(),l._UZ(6,"div",37),l.qZA()),2&t){const t=l.oxw();l.xp6(4),l.Q6J("ngForOf",l.lcZ(5,1,t.selectedLocations.lga))}}function pt(t,e){if(1&t&&(l.TgZ(0,"div",39),l._UZ(1,"input",40),l.TgZ(2,"label",41),l._uU(3),l.qZA(),l.qZA()),2&t){const t=l.oxw().$implicit;l.xp6(3),l.Oqu(t.key)}}function ht(t,e){if(1&t&&(l.TgZ(0,"div"),l.YNc(1,pt,4,1,"div",38),l.qZA()),2&t){const t=e.$implicit;l.xp6(1),l.Q6J("ngIf",1==t.value)}}function ft(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div"),l.TgZ(1,"div",14),l.TgZ(2,"label",15),l._uU(3,"Filter Metadata"),l.qZA(),l.TgZ(4,"input",42),l.NdJ("click",function(){l.CHM(t);const e=l.oxw(),i=l.MAs(58);return e.openMetadataModal(i)}),l.qZA(),l.qZA(),l.TgZ(5,"div",43),l.YNc(6,ht,2,1,"div",36),l.ALo(7,"keyvalue"),l._UZ(8,"div",37),l.qZA(),l.qZA()}if(2&t){const t=l.oxw();l.xp6(6),l.Q6J("ngForOf",l.lcZ(7,1,t.selectedMetadata))}}function mt(t,e){if(1&t&&(l.TgZ(0,"div",39),l._UZ(1,"input",44),l.TgZ(2,"label",45),l._uU(3),l.qZA(),l.qZA()),2&t){const t=l.oxw().$implicit;l.xp6(3),l.Oqu(t.key)}}function Tt(t,e){if(1&t&&(l.TgZ(0,"div"),l.YNc(1,mt,4,1,"div",38),l.qZA()),2&t){const t=e.$implicit;l.xp6(1),l.Q6J("ngIf",1==t.value)}}function vt(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div"),l.TgZ(1,"div",14),l.TgZ(2,"label",15),l._uU(3,"Filter Incident"),l.qZA(),l.TgZ(4,"input",42),l.NdJ("click",function(){l.CHM(t);const e=l.oxw(),i=l.MAs(60);return e.openIncidentModal(i)}),l.qZA(),l.qZA(),l.TgZ(5,"div",43),l.YNc(6,Tt,2,1,"div",36),l.ALo(7,"keyvalue"),l._UZ(8,"div",37),l.qZA(),l.qZA()}if(2&t){const t=l.oxw();l.xp6(6),l.Q6J("ngForOf",l.lcZ(7,1,t.selectedIncidents))}}function qt(t,e){1&t&&(l.TgZ(0,"div",46),l.TgZ(1,"p"),l._uU(2,"Loading..."),l.qZA(),l.qZA())}function At(t,e){if(1&t&&(l.TgZ(0,"div",46),l._UZ(1,"app-bar-chart",47),l.qZA()),2&t){const t=l.oxw();l.xp6(1),l.Q6J("categoriesData",t.chartData)}}function xt(t,e){if(1&t&&(l.TgZ(0,"div",46),l._UZ(1,"app-pie-chart",47),l.qZA()),2&t){const t=l.oxw();l.xp6(1),l.Q6J("categoriesData",t.chartData)}}function bt(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",39),l.TgZ(1,"input",69),l.NdJ("ngModelChange",function(e){const i=l.CHM(t).$implicit;return l.oxw(2).selectedLocations.country[i]=e}),l.qZA(),l.TgZ(2,"label",70),l._uU(3),l.qZA(),l.qZA()}if(2&t){const t=e.$implicit,i=e.index,n=l.oxw(2);l.xp6(1),l.MGl("id","loc_search_country_",i,""),l.MGl("name","loc_search_country_",i,""),l.Q6J("ngModel",n.selectedLocations.country[t]),l.xp6(1),l.MGl("for","loc_search_country_",i,""),l.xp6(1),l.Oqu(t)}}function yt(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",39),l.TgZ(1,"input",69),l.NdJ("ngModelChange",function(e){const i=l.CHM(t).$implicit;return l.oxw(2).selectedLocations.region[i]=e}),l.qZA(),l.TgZ(2,"label",70),l._uU(3),l.qZA(),l.qZA()}if(2&t){const t=e.$implicit,i=e.index,n=l.oxw(2);l.xp6(1),l.MGl("id","loc_search_region_",i,""),l.MGl("name","loc_search_region_",i,""),l.Q6J("ngModel",n.selectedLocations.region[t]),l.xp6(1),l.MGl("for","loc_search_region_",i,""),l.xp6(1),l.Oqu(t)}}function _t(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",39),l.TgZ(1,"input",69),l.NdJ("ngModelChange",function(e){const i=l.CHM(t).$implicit;return l.oxw(2).selectedLocations.state[i]=e}),l.qZA(),l.TgZ(2,"label",70),l._uU(3),l.qZA(),l.qZA()}if(2&t){const t=e.$implicit,i=e.index,n=l.oxw(2);l.xp6(1),l.MGl("id","loc_search_state_",i,""),l.MGl("name","loc_search_state_",i,""),l.Q6J("ngModel",n.selectedLocations.state[t]),l.xp6(1),l.MGl("for","loc_search_state_",i,""),l.xp6(1),l.Oqu(t)}}function wt(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",39),l.TgZ(1,"input",69),l.NdJ("ngModelChange",function(e){const i=l.CHM(t).$implicit;return l.oxw(2).selectedLocations.lga[i]=e}),l.qZA(),l.TgZ(2,"label",70),l._uU(3),l.qZA(),l.qZA()}if(2&t){const t=e.$implicit,i=e.index,n=l.oxw(2);l.xp6(1),l.MGl("id","loc_search_lga_",i,""),l.MGl("name","loc_search_lga_",i,""),l.Q6J("ngModel",n.selectedLocations.lga[t]),l.xp6(1),l.MGl("for","loc_search_lga_",i,""),l.xp6(1),l.Oqu(t)}}function Dt(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",48),l.TgZ(1,"h4",49),l._uU(2,"Search Locations"),l.qZA(),l.TgZ(3,"button",50),l.NdJ("click",function(){return e.$implicit.dismiss("Cross click")}),l.TgZ(4,"span",51),l._uU(5,"\xd7"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(6,"div",52),l.TgZ(7,"div",53),l.TgZ(8,"div",54),l.TgZ(9,"div",20),l.TgZ(10,"span",55),l.O4$(),l.TgZ(11,"svg",56),l.TgZ(12,"g",57),l._UZ(13,"rect",58),l._UZ(14,"path",59),l._UZ(15,"path",60),l.qZA(),l.qZA(),l.qZA(),l.kcU(),l.TgZ(16,"input",61),l.NdJ("ngModelChange",function(e){return l.CHM(t),l.oxw().locationKeyword=e})("change",function(){return l.CHM(t),l.oxw().searchLocation()}),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(17,"div",62),l.TgZ(18,"div",63),l.TgZ(19,"div",64),l.TgZ(20,"label",15),l._uU(21,"COUNTRY"),l.qZA(),l.qZA(),l.TgZ(22,"div",65),l.YNc(23,bt,4,5,"div",66),l.qZA(),l.qZA(),l.TgZ(24,"div",63),l.TgZ(25,"div",64),l.TgZ(26,"label",15),l._uU(27,"REGION"),l.qZA(),l.qZA(),l.TgZ(28,"div",65),l.YNc(29,yt,4,5,"div",66),l.qZA(),l.qZA(),l.TgZ(30,"div",63),l.TgZ(31,"div",64),l.TgZ(32,"label",15),l._uU(33,"STATE"),l.qZA(),l.qZA(),l.TgZ(34,"div",65),l.YNc(35,_t,4,5,"div",66),l.qZA(),l.qZA(),l.TgZ(36,"div",63),l.TgZ(37,"div",64),l.TgZ(38,"label",15),l._uU(39,"LGA"),l.qZA(),l.qZA(),l.TgZ(40,"div",65),l.YNc(41,wt,4,5,"div",66),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(42,"div",67),l.TgZ(43,"button",68),l.NdJ("click",function(){return l.CHM(t),l.oxw().closeModal()}),l._uU(44,"Close"),l.qZA(),l.qZA()}if(2&t){const t=l.oxw();l.xp6(16),l.Q6J("ngModel",t.locationKeyword),l.xp6(7),l.Q6J("ngForOf",t.searchedLocations.country),l.xp6(6),l.Q6J("ngForOf",t.searchedLocations.region),l.xp6(6),l.Q6J("ngForOf",t.searchedLocations.state),l.xp6(6),l.Q6J("ngForOf",t.searchedLocations.lga)}}function Ut(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div"),l.TgZ(1,"div",39),l.TgZ(2,"input",80),l.NdJ("ngModelChange",function(e){const i=l.CHM(t).$implicit;return l.oxw(3).selectedMetadata[i.FieldName]=e}),l.qZA(),l.TgZ(3,"label",70),l._uU(4),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=e.$implicit,i=e.index,n=l.oxw().index,a=l.oxw(2);l.xp6(2),l.hYB("id","kt_m_",n,"_",i,""),l.Q6J("ngModel",a.selectedMetadata[t.FieldName]),l.xp6(1),l.hYB("for","kt_m_",n,"_",i,""),l.xp6(1),l.hij(" ",t.FieldName,"")}}function Ct(t,e){if(1&t&&(l.TgZ(0,"div",64),l.TgZ(1,"div",73),l.TgZ(2,"span",74),l.O4$(),l.TgZ(3,"svg",56),l.TgZ(4,"g",57),l._UZ(5,"polygon",75),l._UZ(6,"rect",76),l._UZ(7,"path",77),l.qZA(),l.qZA(),l.qZA(),l.kcU(),l.TgZ(8,"h3",78),l._uU(9),l.qZA(),l.qZA(),l.TgZ(10,"div",79),l.YNc(11,Ut,5,6,"div",36),l.qZA(),l.qZA()),2&t){const t=e.$implicit,i=e.index,n=l.oxw(2);l.xp6(1),l.uIk("data-bs-target","#kt_accordion_metadata_item_"+i),l.xp6(8),l.Oqu(t.key),l.xp6(1),l.MGl("id","kt_accordion_metadata_item_",i,""),l.xp6(1),l.Q6J("ngForOf",n.toArray(t.value))}}function Mt(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",48),l.TgZ(1,"h4",49),l._uU(2,"Select Metadata"),l.qZA(),l.TgZ(3,"button",50),l.NdJ("click",function(){return e.$implicit.dismiss("Cross click")}),l.TgZ(4,"span",51),l._uU(5,"\xd7"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(6,"div",52),l.TgZ(7,"div",71),l.YNc(8,Ct,12,4,"div",72),l.ALo(9,"keyvalue"),l.qZA(),l.qZA(),l.TgZ(10,"div",67),l.TgZ(11,"button",68),l.NdJ("click",function(){return l.CHM(t),l.oxw().closeModal()}),l._uU(12,"Close"),l.qZA(),l.qZA()}if(2&t){const t=l.oxw();l.xp6(8),l.Q6J("ngForOf",l.lcZ(9,1,t.metadataList))}}function kt(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div"),l.TgZ(1,"div",39),l.TgZ(2,"input",80),l.NdJ("ngModelChange",function(e){const i=l.CHM(t).$implicit;return l.oxw(2).selectedIncidents[i.text]=e}),l.qZA(),l.TgZ(3,"label",70),l._uU(4),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=e.$implicit,i=e.index,n=l.oxw(2);l.xp6(2),l.MGl("id","kt_type_",i,""),l.Q6J("ngModel",n.selectedIncidents[t.text]),l.xp6(1),l.MGl("for","kt_type_",i,""),l.xp6(1),l.hij(" ",t.text,"")}}function It(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",48),l.TgZ(1,"h4",49),l._uU(2,"Select Incident Type"),l.qZA(),l.TgZ(3,"button",50),l.NdJ("click",function(){return e.$implicit.dismiss("Cross click")}),l.TgZ(4,"span",51),l._uU(5,"\xd7"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(6,"div",52),l.TgZ(7,"div",64),l.YNc(8,kt,5,4,"div",36),l.qZA(),l.qZA(),l.TgZ(9,"div",67),l.TgZ(10,"button",68),l.NdJ("click",function(){return l.CHM(t),l.oxw().closeModal()}),l._uU(11,"Close"),l.qZA(),l.qZA()}if(2&t){const t=l.oxw();l.xp6(8),l.Q6J("ngForOf",t.incidentTypeList)}}const Lt=[{path:"",component:u,canActivate:[s.P],children:[{path:"field-reports",component:z},{path:"charts",component:(()=>{class t{constructor(t,e,i,n){this.serverRequest=t,this.storage=e,this.events=i,this.modalService=n,this.requiredSearchType="metadata",this.chartData={},this.performGlobalSearch=!1,this.searchParams={type:"basic",keyword:"",incidentType:"",location:""},this.locationKeyword="Nigeria",this.searchedLocations={country:[],state:[],lga:[],region:[]},this.selectedLocations={country:{},state:{},lga:{},region:{}},this.requestingData=!1,this.regions=[],this.globalDateRange={startDate:"",endDate:""},this.metadataList=[],this.selectedMetadata={},this.selectedIncidents={},this.incidentTypeList=[]}ngOnInit(){this.loadMetadataFields(),this.searchLocation(),this.loadIncidentTypes(),this.events.getEvent("perform-global-search").subscribe(t=>{null!=t&&""!=t.type&&(this.searchParams=t,""!=this.searchParams.dateRange.startDate&&(this.globalDateRange.startDate=this.searchParams.dateRange.startDate.format("YYYY-MM-DD"),this.globalDateRange.endDate=this.searchParams.dateRange.endDate.format("YYYY-MM-DD")))})}loadIncidentTypes(){this.serverRequest.get("incidents/incident-type/view-incident-types?resourceId=1").subscribe(t=>{this.incidentTypeList=[],t.contentData.forEach(t=>{this.incidentTypeList.push({id:t.IncidentTypeId,text:t.IncidentTypeName})})})}loadMetadataFields(){this.serverRequest.get("incidents/metadata/get-list").subscribe(t=>{this.metadataList=t.contentData})}loadIncidencesByRegionData(){this.serverRequest.get("incidents/stats/load-incidences-by-region?startDate="+this.globalDateRange.startDate+"&endDate="+this.globalDateRange.endDate).subscribe(t=>{const e=t.contentData;this.categoriesData=e.types.categories,this.trendsData=e.trends.categories,this.regions=Object.keys(this.categoriesData)})}stringify(t){return JSON.stringify(t)}openLocationSearch(t){this.modal=this.modalService.open(t,{backdropClass:"modal-backdrop",size:"lg",scrollable:!0})}closeModal(){this.modal.close()}searchLocation(){this.searchedLocations={country:[],state:[],lga:[],region:[]},this.serverRequest.get("incidents/search/location?keyword="+this.locationKeyword).subscribe(t=>{const e=t.contentData;for(let i in e){const t=e[i];this.searchedLocations.country.includes(t.Country)||this.searchedLocations.country.push(t.Country),this.searchedLocations.region.includes(t.Region)||this.searchedLocations.region.push(t.Region),this.searchedLocations.state.includes(t.State)||this.searchedLocations.state.push(t.State),this.searchedLocations.lga.includes(t.LGA)||this.searchedLocations.lga.push(t.LGA)}})}openMetadataModal(t){this.modal=this.modalService.open(t,{backdropClass:"modal-backdrop",size:"md",scrollable:!0})}openIncidentModal(t){this.modal=this.modalService.open(t,{backdropClass:"modal-backdrop",size:"md",scrollable:!0})}toArray(t){return Object.keys(t).map(e=>t[e])}loadData(){this.requestingData=!0;const t=this.globalDateRange.startDate,e=this.globalDateRange.endDate;let i="incidents/stats/load-by-metadata",n={locations:this.selectedLocations,startDate:t,endDate:e};"metadata"==this.requiredSearchType?n={locations:this.selectedLocations,startDate:t,endDate:e,metadata:this.selectedMetadata}:(n={locations:this.selectedLocations,startDate:t,endDate:e,incidentTypes:this.selectedIncidents},i="incidents/stats/load-by-incident-types"),this.serverRequest.post(i,n).subscribe(t=>{this.requestingData=!1,this.chartData=t.contentData})}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(h.I),l.Y36(A.V),l.Y36(m.n),l.Y36(f.FF))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-charts"]],decls:61,vars:19,consts:[[1,"wrapper","d-flex","flex-column","flex-row-fluid"],[1,"card","rounded-0","bgi-no-repeat","bgi-position-x-end","bgi-size-cover",2,"background-color","#4b5320","background-size","auto 100%"],[1,"card-body","container","pt-10","pb-8"],[1,"d-flex","align-items-center"],[1,"fw-bold","me-3","text-white"],[1,"fw-bold","text-white","opacity-50"],[1,"d-flex","flex-column"],[1,"d-lg-flex","align-lg-items-center"],["id","kt_content",1,"content","d-flex","flex-column","flex-column-fluid"],["id","kt_content_container",1,"container"],[1,"d-flex","flex-column","flex-lg-row"],[1,"flex-column","flex-lg-row-auto","w-100","w-lg-250px","w-xxl-325px","mb-8","mb-lg-0","me-lg-9","me-5"],[1,"card"],[1,"card-body"],[1,"mb-5","mt-5"],[1,"fs-6","form-label","fw-bolder","text-dark"],[1,"form-select","form-select-solid",3,"ngModel","ngModelChange"],["value",""],["value","incident"],["value","metadata"],[1,"position-relative"],[1,"btn","btn-light","btn-active-light-primary","btn-color-gray-400","me-3",3,"click"],["class","me-n5 pe-5 mt-5",4,"ngIf"],[4,"ngIf"],["value","bar-chart"],["value","pie-chart"],[1,"d-flex","align-items-center","justify-content-end"],[1,"btn","btn-primary",3,"click"],[1,"flex-lg-row-fluid"],["class","col-md-12",4,"ngIf"],["content",""],["metadataContent",""],["incidentContent",""],[1,"me-n5","pe-5","mt-5"],[1,"form-check-label","flex-grow-1","fw-bold","text-gray-700","fs-7"],["id","kt_explore_scroll","data-kt-scroll","true","data-kt-scroll-height","auto","data-kt-scroll-wrappers","#kt_explore_body","data-kt-scroll-offset","5px",1,"scroll-y"],[4,"ngFor","ngForOf"],[1,"separator","separator-dashed","my-2"],["class","form-check form-check-custom form-check-solid mb-5",4,"ngIf"],[1,"form-check","form-check-custom","form-check-solid","mb-5"],["type","checkbox","id","kt_search_category_1",1,"form-check-input"],["for","kt_search_category_1",1,"form-check-label","flex-grow-1","fw-bold","text-gray-700","fs-7",2,"padding-left","20px"],["type","text","name","city",1,"form-control","form-control","form-control-solid",3,"click"],[1,"mb-10"],["type","checkbox","id","kt_search_category__",1,"form-check-input"],["for","kt_search_category__",1,"form-check-label","flex-grow-1","fw-bold","text-gray-700","fs-7",2,"padding-left","20px"],[1,"col-md-12"],[3,"categoriesData"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","mb-10"],[1,"col-5"],[1,"svg-icon","svg-icon-3","svg-icon-gray-500","position-absolute","top-50","translate-middle","ms-6"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","width","24px","height","24px","viewBox","0 0 24 24","version","1.1"],["stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["x","0","y","0","width","24","height","24"],["d","M14.2928932,16.7071068 C13.9023689,16.3165825 13.9023689,15.6834175 14.2928932,15.2928932 C14.6834175,14.9023689 15.3165825,14.9023689 15.7071068,15.2928932 L19.7071068,19.2928932 C20.0976311,19.6834175 20.0976311,20.3165825 19.7071068,20.7071068 C19.3165825,21.0976311 18.6834175,21.0976311 18.2928932,20.7071068 L14.2928932,16.7071068 Z","fill","#000000","fill-rule","nonzero","opacity","0.3"],["d","M11,16 C13.7614237,16 16,13.7614237 16,11 C16,8.23857625 13.7614237,6 11,6 C8.23857625,6 6,8.23857625 6,11 C6,13.7614237 8.23857625,16 11,16 Z M11,18 C7.13400675,18 4,14.8659932 4,11 C4,7.13400675 7.13400675,4 11,4 C14.8659932,4 18,7.13400675 18,11 C18,14.8659932 14.8659932,18 11,18 Z","fill","#000000","fill-rule","nonzero"],["type","text","name","searchLocation","value","","placeholder","Search",1,"form-control","form-control-solid","ps-10",3,"ngModel","ngModelChange","change"],[1,"row"],[1,"col-md-3"],[1,"mb-5"],[1,"mb-1"],["class","form-check form-check-custom form-check-solid mb-5",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"click"],["type","checkbox",1,"form-check-input",3,"id","name","ngModel","ngModelChange"],[1,"form-check-label","flex-grow-1","fw-bold","text-gray-700","fs-7",2,"padding-left","20px",3,"for"],["id","kt_accordion_metadata",1,"accordion","accordion-icon-toggle"],["class","mb-5",4,"ngFor","ngForOf"],["data-bs-toggle","collapse",1,"accordion-header","py-3","d-flex"],[1,"accordion-icon"],["points","0 0 24 0 24 24 0 24"],["fill","#000000","opacity","0.5","transform","translate(8.500000, 12.000000) rotate(-90.000000) translate(-8.500000, -12.000000)","x","7.5","y","7.5","width","2","height","9","rx","1"],["d","M9.70710318,15.7071045 C9.31657888,16.0976288 8.68341391,16.0976288 8.29288961,15.7071045 C7.90236532,15.3165802 7.90236532,14.6834152 8.29288961,14.2928909 L14.2928896,8.29289093 C14.6714686,7.914312 15.281055,7.90106637 15.675721,8.26284357 L21.675721,13.7628436 C22.08284,14.136036 22.1103429,14.7686034 21.7371505,15.1757223 C21.3639581,15.5828413 20.7313908,15.6103443 20.3242718,15.2371519 L15.0300721,10.3841355 L9.70710318,15.7071045 Z","fill","#000000","fill-rule","nonzero","transform","translate(14.999999, 11.999997) scale(1, -1) rotate(90.000000) translate(-14.999999, -11.999997)"],[1,"fs-4","fw-bold","mb-0","ms-4"],["data-bs-parent","#kt_accordion_metadata",1,"fs-6","collapse","show","ps-10",3,"id"],["type","checkbox",1,"form-check-input",3,"id","ngModel","ngModelChange"]],template:function(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"div",3),l.TgZ(4,"h1",4),l._uU(5,"Data Visualization"),l.qZA(),l.TgZ(6,"span",5),l._uU(7,"Generate statistical charts to better understand incident data"),l.qZA(),l.qZA(),l.TgZ(8,"div",6),l.TgZ(9,"div",7),l._UZ(10,"app-global-search"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(11,"div",8),l.TgZ(12,"div",9),l.TgZ(13,"div",10),l.TgZ(14,"div",11),l.TgZ(15,"div",12),l.TgZ(16,"div",13),l.TgZ(17,"div",14),l.TgZ(18,"label",15),l._uU(19,"Search type"),l.qZA(),l.TgZ(20,"select",16),l.NdJ("ngModelChange",function(t){return e.requiredSearchType=t}),l._UZ(21,"option",17),l.TgZ(22,"option",18),l._uU(23,"Incident Type"),l.qZA(),l.TgZ(24,"option",19),l._uU(25,"Metadata"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(26,"div",20),l.TgZ(27,"button",21),l.NdJ("click",function(){l.CHM(t);const i=l.MAs(56);return e.openLocationSearch(i)}),l._uU(28,"Search Locations"),l.qZA(),l.qZA(),l.YNc(29,at,7,3,"div",22),l.ALo(30,"keyvalue"),l.YNc(31,rt,7,3,"div",22),l.ALo(32,"keyvalue"),l.YNc(33,dt,7,3,"div",22),l.ALo(34,"keyvalue"),l.YNc(35,Zt,7,3,"div",22),l.ALo(36,"keyvalue"),l.YNc(37,ft,9,3,"div",23),l.YNc(38,vt,9,3,"div",23),l.TgZ(39,"div",14),l.TgZ(40,"label",15),l._uU(41,"Chart Type"),l.qZA(),l.TgZ(42,"select",16),l.NdJ("ngModelChange",function(t){return e.requiredChartType=t}),l._UZ(43,"option",17),l.TgZ(44,"option",24),l._uU(45,"Bar Chart"),l.qZA(),l.TgZ(46,"option",25),l._uU(47,"Pie Chart"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(48,"div",26),l.TgZ(49,"button",27),l.NdJ("click",function(){return e.loadData()}),l._uU(50,"Apply Filter"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(51,"div",28),l.YNc(52,qt,3,0,"div",29),l.YNc(53,At,2,1,"div",29),l.YNc(54,xt,2,1,"div",29),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.YNc(55,Dt,45,5,"ng-template",null,30,l.W1O),l.YNc(57,Mt,13,3,"ng-template",null,31,l.W1O),l.YNc(59,It,12,1,"ng-template",null,32,l.W1O)}if(2&t){let t,i,n,a;l.xp6(20),l.Q6J("ngModel",e.requiredSearchType),l.xp6(9),l.Q6J("ngIf",(null==(t=l.lcZ(30,11,e.selectedLocations.country))?null:t.length)>0),l.xp6(2),l.Q6J("ngIf",(null==(i=l.lcZ(32,13,e.selectedLocations.region))?null:i.length)>0),l.xp6(2),l.Q6J("ngIf",(null==(n=l.lcZ(34,15,e.selectedLocations.state))?null:n.length)>0),l.xp6(2),l.Q6J("ngIf",(null==(a=l.lcZ(36,17,e.selectedLocations.lga))?null:a.length)>0),l.xp6(2),l.Q6J("ngIf","metadata"==e.requiredSearchType),l.xp6(1),l.Q6J("ngIf","incident"==e.requiredSearchType),l.xp6(4),l.Q6J("ngModel",e.requiredChartType),l.xp6(10),l.Q6J("ngIf",e.requestingData),l.xp6(1),l.Q6J("ngIf","bar-chart"==e.requiredChartType&&!e.requestingData),l.xp6(1),l.Q6J("ngIf","pie-chart"==e.requiredChartType&&!e.requestingData)}},directives:[B.v,a.EJ,a.JJ,a.On,a.YN,a.Kr,n.O5,n.sg,tt,et,a.Fj,a.Wl],pipes:[n.Nd],styles:[".wrapper[_ngcontent-%COMP%]{width:91vw;padding-left:0}"]}),t})()}]}];let Jt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[r.Bz.forChild(Lt)],r.Bz]}),t})();var Nt=i(66);let Ot=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[n.ez,Jt,o.m,c.T,X.Ns.forRoot({echarts:()=>i.e(175).then(i.bind(i,8175))}),x.I,a.u5,Nt.$]]}),t})()},2617:(t,e,i)=>{"use strict";i.d(e,{v:()=>u});var n=i(9609),a=i(5366),o=i(7320),c=i(5943),r=i(9151),s=i(1462),l=i(1116),d=i(9347);function g(t,e){if(1&t&&(a.TgZ(0,"option",28),a._uU(1),a.qZA()),2&t){const t=e.$implicit;a.s9C("value",t.id),a.xp6(1),a.Oqu(t.text)}}let u=(()=>{class t{constructor(t,e,i){this.serverRequest=t,this.storage=e,this.events=i,this.searchParams={type:"",keyword:"",incidentType:"",location:"",dateRange:{startDate:"",endDate:""}},this.ranges={Today:[n(),n()],Yesterday:[n().subtract(1,"days"),n().subtract(1,"days")],"Last 7 Days":[n().subtract(6,"days"),n()],"Last 30 Days":[n().subtract(29,"days"),n()],"This Month":[n().startOf("month"),n().endOf("month")],"Last Month":[n().subtract(1,"month").startOf("month"),n().subtract(1,"month").endOf("month")]},this.incidentTypeList=[],this.loadIncidentTypes()}ngOnInit(){}loadIncidentTypes(){this.serverRequest.get("incidents/incident-type/view-incident-types?resourceId=1").subscribe(t=>{this.incidentTypeList=[],t.contentData.forEach(t=>{this.incidentTypeList.push({id:t.IncidentTypeId,text:t.IncidentTypeName})})})}broadcastSearchRequest(){this.searchParams.type="basic",this.events.broadcast("perform-global-search",this.searchParams)}changed(t){void 0!==this.searchParams.dateRange&&null!==this.searchParams.dateRange.endDate&&this.broadcastSearchRequest()}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(o.I),a.Y36(c.V),a.Y36(r.n))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-global-search"]],decls:37,vars:10,consts:[[1,"rounded","d-flex","flex-column","flex-lg-row","align-items-lg-center","bg-white","p-5","w-xxl-850px","h-lg-60px","my-5"],[1,"row","flex-grow-1","mb-5","mb-lg-0"],[1,"col-lg-4","d-flex","align-items-center","mb-3","mb-lg-0"],[1,"svg-icon","svg-icon-1","svg-icon-gray-400","me-1"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","width","24px","height","24px","viewBox","0 0 24 24","version","1.1"],["stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["x","0","y","0","width","24","height","24"],["d","M14.2928932,16.7071068 C13.9023689,16.3165825 13.9023689,15.6834175 14.2928932,15.2928932 C14.6834175,14.9023689 15.3165825,14.9023689 15.7071068,15.2928932 L19.7071068,19.2928932 C20.0976311,19.6834175 20.0976311,20.3165825 19.7071068,20.7071068 C19.3165825,21.0976311 18.6834175,21.0976311 18.2928932,20.7071068 L14.2928932,16.7071068 Z","fill","#000000","fill-rule","nonzero","opacity","0.3"],["d","M11,16 C13.7614237,16 16,13.7614237 16,11 C16,8.23857625 13.7614237,6 11,6 C8.23857625,6 6,8.23857625 6,11 C6,13.7614237 8.23857625,16 11,16 Z M11,18 C7.13400675,18 4,14.8659932 4,11 C4,7.13400675 7.13400675,4 11,4 C14.8659932,4 18,7.13400675 18,11 C18,14.8659932 14.8659932,18 11,18 Z","fill","#000000","fill-rule","nonzero"],["type","text","name","search","value","","placeholder","Keyword",1,"form-control","form-control-flush","flex-grow-1",3,"ngModel","ngModelChange"],[1,"col-lg-4","d-flex","align-items-center","mb-5","mb-lg-0"],[1,"bullet","bg-secondary","d-none","d-lg-block","h-30px","w-2px","me-5"],["x","5","y","5","width","5","height","5","rx","1","fill","#000000"],["x","14","y","5","width","5","height","5","rx","1","fill","#000000","opacity","0.3"],["x","5","y","14","width","5","height","5","rx","1","fill","#000000","opacity","0.3"],["x","14","y","14","width","5","height","5","rx","1","fill","#000000","opacity","0.3"],[1,"form-select","border-0","flex-grow-1",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-lg-4","d-flex","align-items-center"],[1,"svg-icon","svg-icon-1","svg-icon-gray-400","me-3"],["d","M5,10.5 C5,6 8,3 12.5,3 C17,3 20,6.75 20,10.5 C20,12.8325623 17.8236613,16.03566 13.470984,20.1092932 C12.9154018,20.6292577 12.0585054,20.6508331 11.4774555,20.1594925 C7.15915182,16.5078313 5,13.2880005 5,10.5 Z M12.5,12 C13.8807119,12 15,10.8807119 15,9.5 C15,8.11928813 13.8807119,7 12.5,7 C11.1192881,7 10,8.11928813 10,9.5 C10,10.8807119 11.1192881,12 12.5,12 Z","fill","#000000","fill-rule","nonzero"],["type","text","name","search","value","","placeholder","Location",1,"form-control","form-control-flush","flex-grow-1",3,"ngModel","ngModelChange"],[1,"min-w-150px","text-end"],["type","submit","id","kt_advanced_search_button_1",1,"btn","btn-dark",3,"click"],[1,"row","text-center","align-items-center"],[1,"col-lg-12"],["type","text","ngxDaterangepickerMd","","name","dateRange","value","","placeholder","click here to select date range to filter data",1,"form-control","datePickerStyle",3,"ngModel","showCustomRangeLabel","alwaysShowCalendars","ranges","linkedCalendars","showClearButton","ngModelChange","change"],[3,"value"]],template:function(t,e){1&t&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"span",3),a.O4$(),a.TgZ(4,"svg",4),a.TgZ(5,"g",5),a._UZ(6,"rect",6),a._UZ(7,"path",7),a._UZ(8,"path",8),a.qZA(),a.qZA(),a.qZA(),a.kcU(),a.TgZ(9,"input",9),a.NdJ("ngModelChange",function(t){return e.searchParams.keyword=t}),a.qZA(),a.qZA(),a.TgZ(10,"div",10),a._UZ(11,"div",11),a.TgZ(12,"span",3),a.O4$(),a.TgZ(13,"svg",4),a.TgZ(14,"g",5),a._UZ(15,"rect",12),a._UZ(16,"rect",13),a._UZ(17,"rect",14),a._UZ(18,"rect",15),a.qZA(),a.qZA(),a.qZA(),a.kcU(),a.TgZ(19,"select",16),a.NdJ("ngModelChange",function(t){return e.searchParams.incidentType=t}),a.TgZ(20,"option",17),a._uU(21,"Select Incident Type"),a.qZA(),a.YNc(22,g,2,2,"option",18),a.qZA(),a.qZA(),a.TgZ(23,"div",19),a._UZ(24,"div",11),a.TgZ(25,"span",20),a.O4$(),a.TgZ(26,"svg",4),a.TgZ(27,"g",5),a._UZ(28,"rect",6),a._UZ(29,"path",21),a.qZA(),a.qZA(),a.qZA(),a.kcU(),a.TgZ(30,"input",22),a.NdJ("ngModelChange",function(t){return e.searchParams.location=t}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(31,"div",23),a.TgZ(32,"button",24),a.NdJ("click",function(){return e.broadcastSearchRequest()}),a._uU(33,"Search"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(34,"div",25),a.TgZ(35,"div",26),a.TgZ(36,"input",27),a.NdJ("ngModelChange",function(t){return e.searchParams.dateRange=t})("change",function(t){return e.changed(t)}),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(9),a.Q6J("ngModel",e.searchParams.keyword),a.xp6(10),a.Q6J("ngModel",e.searchParams.incidentType),a.xp6(3),a.Q6J("ngForOf",e.incidentTypeList),a.xp6(8),a.Q6J("ngModel",e.searchParams.location),a.xp6(6),a.Q6J("ngModel",e.searchParams.dateRange)("showCustomRangeLabel",!0)("alwaysShowCalendars",!0)("ranges",e.ranges)("linkedCalendars",!0)("showClearButton",!0))},directives:[s.Fj,s.JJ,s.On,s.EJ,s.YN,s.Kr,l.sg,d.SP],styles:[".datePickerStyle[_ngcontent-%COMP%]{text-align:center;border:0;border-bottom:1px solid #fff;background-color:initial;color:#fff}"]}),t})()},9151:(t,e,i)=>{"use strict";i.d(e,{n:()=>o});var n=i(8512),a=i(5366);let o=(()=>{class t{constructor(){this.behaviorSubjects=new Map}getBehaviorSubject(t){let e=this.behaviorSubjects.get(t);return e||(e=new n.X(null),this.behaviorSubjects.set(t,e)),e}broadcast(t,e){this.getBehaviorSubject(t).next(e)}getEvent(t){return this.getBehaviorSubject(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);